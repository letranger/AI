<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-11-30 Thu 19:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Numpy</title>
<meta name="author" content="Yung-Chin Yen" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../css/muse.css" />
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Numpy</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org97871f1">1. 簡介</a></li>
<li><a href="#orgf13f786">2. 安裝模組</a></li>
<li><a href="#org74c78fc">3. 匯入模組</a></li>
<li><a href="#org716bd4f">4. NumPy 陣列</a>
<ul>
<li><a href="#org43a7e84">4.1. NDArray</a></li>
<li><a href="#org572e6eb">4.2. 建立ndarray</a></li>
</ul>
</li>
<li><a href="#org5790a86">5. 矩陣運算</a>
<ul>
<li><a href="#org26be5ac">5.1. Numpy計算時間比較</a></li>
<li><a href="#orgae52907">5.2. [課堂練習]</a></li>
<li><a href="#org61d2323">5.3. 矩陣運算</a></li>
<li><a href="#org470fbf9">5.4. 矩陣函數</a></li>
<li><a href="#org38e4095">5.5. [作業1]</a></li>
<li><a href="#orgc7de3c3">5.6. [作業2]</a></li>
<li><a href="#orgab2e876">5.7. 解聯立方程式</a></li>
<li><a href="#org01a601a">5.8. numpy 矩陣間的運算</a></li>
<li><a href="#org39edc06">5.9. 矩陣間的 convolute 運算</a></li>
</ul>
</li>
<li><a href="#org85600ed">6. Numpy 檔案輸出輸入</a>
<ul>
<li><a href="#org49ad387">6.1. Google Colab</a></li>
<li><a href="#orgcc60766">6.2. 用NumPy來讀資料檔</a></li>
<li><a href="#org6c1be94">6.3. 不同格式</a></li>
<li><a href="#org303a676">6.4. Bineary Format</a></li>
<li><a href="#org4ca619e">6.5. 讀取混合格式的文字資料</a></li>
<li><a href="#org84b3af8">6.6. 讀取一個欄位資料</a></li>
<li><a href="#org0f9c68b">6.7. Binary Format  </a></li>
<li><a href="#org3e90851">6.8. Text Files</a></li>
</ul>
</li>
<li><a href="#org55d559a">7. Data Visualization</a>
<ul>
<li><a href="#org1eabce7">7.1. pylab</a></li>
<li><a href="#org439289b">7.2. Bokeh</a></li>
<li><a href="#org39949d0">7.3. seaborn</a></li>
<li><a href="#org0169da4">7.4. Altair</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org97871f1" class="outline-2">
<h2 id="org97871f1"><span class="section-number-2">1.</span> 簡介</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>NumPy 是 Python 語言的一個擴充程式庫。支援高階大量的維度陣列與矩陣運算，此外也針對陣列運算提供大量的數學函式函式庫。<br /></li>
<li>Numpy主要用於資料處理上。Numpy 底層以 C 和 Fortran 語言實作，所以能快速操作多重維度的陣列。<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup><br /></li>
<li>當 Python 處理龐大資料時，其原生 list 效能表現並不理想（但可以動態存異質資料），而 Numpy 具備平行處理的能力，可以將操作動作一次套用在大型陣列上。<br /></li>
<li>Python 多數重量級的資料科學相關套件（例如：Pandas、SciPy、Scikit-learn 等）都幾乎是奠基在 Numpy 的基礎上。因此學會 Numpy 對於往後學習其他資料科學相關套件打好堅實的基礎。<br /></li>
<li>NumPy 的前身 Numeric 最早是由 Jim Hugunin 與其它協作者共同開發，2005 年，Travis Oliphant 在 Numeric 中結合了另一個同性質的程式庫 Numarray 的特色，並加入了其它擴充功能而開發了 NumPy。NumPy 為開放原始碼並且由許多協作者共同維護開發。<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup><br /></li>
<li>延伸閱讀: <a href="https://hsinchengchao.medium.com/%E7%82%BA%E4%BB%80%E9%BA%BC%E8%A6%81%E7%94%A8-numpy-c829e0049977">為什麼要用 Numpy？</a><br /></li>
</ul>
</div>
</div>
<div id="outline-container-orgf13f786" class="outline-2">
<h2 id="orgf13f786"><span class="section-number-2">2.</span> 安裝模組</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span>pip install numpy
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="orge79a6c8"></a>PyCharm<br />
<div class="outline-text-4" id="text-2-0-1">

<div id="orgb935f57" class="figure">
<p><img src="images/NumPy/2023-02-13_10-26-12_2023-02-13_10-24-46.png" alt="2023-02-13_10-26-12_2023-02-13_10-24-46.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 1: </span>標題</p>
</div>
</div>
</li>
<li><a id="orge6e77a6"></a>Colab<br />
<div class="outline-text-4" id="text-2-0-2">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>!pip install numpy
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org74c78fc" class="outline-2">
<h2 id="org74c78fc"><span class="section-number-2">3.</span> 匯入模組</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>使用模組裡的函式要加模組名稱<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy
</pre>
</div>
<ul class="org-ul">
<li>匯入 numpy 模組並使用 np 作為簡寫，這是 Numpy 官方倡導的寫法<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
</pre>
</div>
</div>
</div>
<div id="outline-container-org716bd4f" class="outline-2">
<h2 id="org716bd4f"><span class="section-number-2">4.</span> NumPy 陣列</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org43a7e84" class="outline-3">
<h3 id="org43a7e84"><span class="section-number-3">4.1.</span> NDArray</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Numpy 中的多維資料型別稱為 ndarray<br /></li>
<li>Numpy 的重點在於陣列的操作，其所有功能特色都建築在同質且多重維度的 ndarray（N-dimensional array）上。<br /></li>
<li>ndarray 的關鍵屬性是維度（ndim）、形狀（shape）和數值類型（dtype）。 一般我們稱一維陣列為 vector 而二維陣列為 matrix<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>。<br /></li>
</ul>
</div>
</div>
<div id="outline-container-org572e6eb" class="outline-3">
<h3 id="org572e6eb"><span class="section-number-3">4.2.</span> 建立ndarray</h3>
<div class="outline-text-3" id="text-4-2">
<p>
一開始我們會引入 numpy 模組，透過傳入 list 到 numpy.array() 創建陣列。<br />
</p>
<ul class="org-ul">
<li>axis 0, axis 1, axis 2:<br />
一維時 axis 0為x軸<br />
二維時 axis 0為y軸<br /></li>
<li><a href="https://numpy.org/doc/stable/reference/routines.array-creation.html#">NumPy官網</a><br /></li>
<li>Numpy 的重點在於陣列的操作，其所有功能特色都建築在同質且多重維度的 ndarray（N-dimensional array）上。<br /></li>
<li>ndarray 的關鍵屬性是維度（ndim）、形狀（shape）和數值類型（dtype）。 一般我們稱一維陣列為 vector 而二維陣列為 matrix<sup><a id="fnr.4.100" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>。<br /></li>
<li>axis 0, axis 1, axis 2:<br />
一維時 axis 0為x軸<br />
二維時 axis 0為y軸<br /></li>
</ul>
</div>
<ol class="org-ol">
<li><a id="org5d8c658"></a>一維陣列<br />
<ul class="org-ul">
<li><a id="org6b8a99b"></a>可以將python的list 或 tuple 轉成NumPy Array<br />
<div class="outline-text-5" id="text-org6b8a99b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">np1</span> = np.array( [<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>] )
<span style="color: #c678dd;">print</span>(np1)
</pre>
</div>

<pre class="example">
[1 2 3 4]
</pre>
</div>
</li>
<li><a id="org13295c0"></a>使用 np.arange( ) 方法<br />
<div class="outline-text-5" id="text-org13295c0">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np2</span> = np.arange(<span style="color: #da8548; font-weight: bold;">5</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====np2====="</span>)
<span style="color: #c678dd;">print</span>(np2)
<span style="color: #dcaeea;">np3</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">0.5</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====np3====="</span>)
<span style="color: #c678dd;">print</span>(np3)
</pre>
</div>

<pre class="example">
=====np2=====
[0 1 2 3 4]
=====np3=====
[1.  1.5 2.  2.5 3.  3.5]
</pre>
</div>
</li>
<li><a id="org2e45c8d"></a>np.arange() v.s. range()<br />
<div class="outline-text-5" id="text-org2e45c8d">
<p>
差異：<br />
</p>
<ul class="org-ul">
<li>range()為 python 內建函數<br /></li>
<li>range() return 的是 range object，而 np.nrange() return 的是 numpy.ndarray()<br /></li>
<li>range()不支援 step 為小數，np.arange()支援 step 為小數<br /></li>
</ul>
</div>
</li>
<li><a id="org5913271"></a>簡單的矩陣運算<br />
<div class="outline-text-5" id="text-org5913271">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">np1</span> = np.array([<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>])
<span class="linenr">3: </span><span style="color: #dcaeea;">np2</span> = np.array([<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">5</span>])
<span class="linenr">4: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#38499;&#21015;&#30456;&#21152;</span>
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(np1 + np2) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">[4 6 8]</span>
<span class="linenr">6: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#39023;&#31034;&#30456;&#38364;&#36039;&#35338;</span>
<span class="linenr">7: </span><span style="color: #c678dd;">print</span>(np1.ndim, np1.shape, np1.dtype) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">1 (3,) int64 =&gt; &#19968;&#32173;&#38499;&#21015;, &#19977;&#20491;&#20803;&#32032;, &#36039;&#26009;&#22411;&#21029;</span>
</pre>
</div>

<pre class="example">
[4 6 8]
1 (3,) int64
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org60e7a30"></a>二維陣列<br />
<div class="outline-text-4" id="text-4-2-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np4</span> = np.array( [[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">4</span>], [<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">5</span>]] )
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"shape:"</span>, np4.shape)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"np4:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, np4)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#21462;&#20986;&#31532;0&#21015;:"</span>,np4[<span style="color: #da8548; font-weight: bold;">0</span>])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#21462;&#20986;&#31532;1&#34892;:"</span>,np4[:,<span style="color: #da8548; font-weight: bold;">1</span>])
<span style="color: #dcaeea;">np5</span> = np.array([np.arange(<span style="color: #da8548; font-weight: bold;">3</span>), np.arange(<span style="color: #da8548; font-weight: bold;">3</span>)])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'np5:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">'</span>, np5)

<span style="color: #dcaeea;">np6</span> = np.arange(<span style="color: #da8548; font-weight: bold;">8</span>).reshape(<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'np6:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">'</span>, np6)
</pre>
</div>

<pre class="example" id="org519b9a3">
  shape: (2, 3)
  np4:
   [[1 2 4]
   [3 4 5]]
  取出第0列: [1 2 4]
  取出第1行: [2 4]
  np5:
   [[0 1 2]
   [0 1 2]]
  np6:
   [[0 1 2 3]
   [4 5 6 7]]
</pre>
</div>
</li>
<li><a id="org2e22715"></a>多維陣列<br />
<div class="outline-text-4" id="text-4-2-3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np7</span> = np.arange(<span style="color: #da8548; font-weight: bold;">24</span>).reshape(<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'np7:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">'</span>,np7)

<span style="color: #dcaeea;">np8</span> = np.arange(<span style="color: #da8548; font-weight: bold;">13</span>, <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #da8548; font-weight: bold;">2</span>).reshape(<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"np8:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, np8)
</pre>
</div>

<pre class="example" id="org2865f17">
  np7:
   [[[ 0  1  2  3]
    [ 4  5  6  7]
    [ 8  9 10 11]]

   [[12 13 14 15]
    [16 17 18 19]
    [20 21 22 23]]]
  np8:
   [[[13 15 17 19]
    [21 23 25 27]
    [29 31 33 35]]

   [[37 39 41 43]
    [45 47 49 51]
    [53 55 57 59]]]
</pre>
</div>
</li>
<li><a id="org20be07f"></a>隨機矩陣<br />
<ul class="org-ul">
<li><a id="org2658d08"></a>numpy.random.randint()<br />
<div class="outline-text-5" id="text-org2658d08">
<p>
語法：numpy.random.randint(low, high=None, size=None, dtype=&rsquo;l&rsquo;)<br />
</p>

<p>
函式的作用是，返回一個隨機整型數，範圍從低（包括）到高（不包括），即[low, high)。<br />
如果沒有寫引數 high 的值，則返回[0,low)的值。<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>  np.random.seed(<span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr">3: </span>
<span class="linenr">4: </span>  <span style="color: #dcaeea;">x1</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">10</span>, size=<span style="color: #da8548; font-weight: bold;">6</span>)
<span class="linenr">5: </span>  <span style="color: #dcaeea;">x2</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">10</span>, size=(<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>))
<span class="linenr">6: </span>  <span style="color: #dcaeea;">x3</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">10</span>, size=(<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">7: </span>  <span style="color: #c678dd;">print</span>(x1)
<span class="linenr">8: </span>  <span style="color: #c678dd;">print</span>(x2)
<span class="linenr">9: </span>  <span style="color: #c678dd;">print</span>(x3)
</pre>
</div>

<pre class="example" id="org37b34ab">
[5 0 3 3 7 9]
[[3 5 2 4]
 [7 6 8 8]
 [1 6 7 7]]
[[[8 1 5 9 8]
  [9 4 3 0 3]
  [5 0 2 3 8]
  [1 3 3 3 7]]

 [[0 1 9 9 0]
  [4 7 3 2 7]
  [2 0 0 4 5]
  [5 6 8 4 1]]

 [[4 9 8 1 1]
  [7 9 9 3 6]
  [7 2 0 3 5]
  [9 4 4 6 4]]]
</pre>
</div>
</li>
<li><a id="orga380ec5"></a>numpy.random.rand()<br />
<div class="outline-text-5" id="text-orga380ec5">
<p>
根據給定維度生成(0,1)間的資料，包含 0，不包含 1<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span>  np.random.seed(<span style="color: #da8548; font-weight: bold;">9627</span>) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#35373;&#32622;&#30456;&#21516;&#35722;&#25976;&#65292;&#27599;&#27425;&#29983;&#25104;&#30456;&#21516;&#20098;&#25976;</span>
<span class="linenr">4: </span>  <span style="color: #dcaeea;">ar</span> = np.random.rand(<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">4</span>)
<span class="linenr">5: </span>  <span style="color: #c678dd;">print</span>(ar)
</pre>
</div>

<pre class="example">
[[0.28012059 0.19216219 0.63985614 0.48842053]
 [0.9441813  0.88992099 0.17534833 0.29543319]]
</pre>
</div>
</li>
<li><a id="org9432dec"></a>範例<br />
<div class="outline-text-5" id="text-org9432dec">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np8</span> = np.random.random((<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">2</span>)) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#30697;&#38499;&#22823;&#23567;&#20197;tuple&#34920;&#31034;</span>
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'np8:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">'</span>, np8)
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22235;&#20491;&#20154;&#25842;&#39600;&#23376;&#65292;&#27599;&#20154;&#25842;&#20841;&#27425;</span>
<span style="color: #dcaeea;">np9</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">7</span>, size=[<span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">2</span>]) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#30697;&#38499;&#22823;&#23567;&#20197;list&#34920;&#31034;</span>
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'np9:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">'</span>, np9)
</pre>
</div>

<pre class="example">
np8:
 [[0.7263954  0.71063088]
 [0.07725825 0.11562424]
 [0.57923875 0.85345365]]
np9:
 [[5 6]
 [2 2]
 [5 5]
 [5 2]]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org5d73fd0"></a>0/1 矩陣<br />
<div class="outline-text-4" id="text-4-2-5">
<ul class="org-ul">
<li>np.zeros: np.zeros( (陣列各維度大小用逗號區分) )：建立全為 0 的陣列，可以小括號定義陣列的各個維度的大小<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">zeros</span> = np.zeros( (<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">5</span>) )
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"zeros=&gt;</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">{0}"</span>.<span style="color: #c678dd;">format</span>(zeros))
</pre>
</div>

<pre class="example">
zeros=&gt;
[[0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0.]]
</pre>


<ul class="org-ul">
<li>np.ones: np.ones( (陣列各維度大小用逗號區分) )：用法與 np.zeros 一樣<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">ones</span> = np.ones( (<span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">3</span>) )
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"oness=&gt;</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">{0}"</span>.<span style="color: #c678dd;">format</span>(ones))
</pre>
</div>

<pre class="example">
oness=&gt;
[[1. 1. 1.]
 [1. 1. 1.]
 [1. 1. 1.]
 [1. 1. 1.]]
</pre>
</div>
</li>
<li><a id="orga24f857"></a><span class="todo TODO">TODO</span> 型態轉換<br />
<div class="outline-text-4" id="text-4-2-6">
<p>
astype<br />
</p>
</div>
</li>
<li><a id="org3cc447a"></a><span class="todo TODO">TODO</span> 補入教材<br />
<div class="outline-text-4" id="text-4-2-7">
<p>
<a href="https://github.com/letranger/AI4H2022/blob/main/week1_%E8%B3%87%E6%96%99%E7%A7%91%E5%AD%B81/1_1_numpy.md">numpy 學習主題</a><br />
</p>
</div>
</li>
<li><a id="orgbc9e641"></a>tmp<br />
<div class="outline-text-4" id="text-4-2-8">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#24341;&#20837; numpy &#27169;&#32068;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">create identity matrix</span>
<span class="linenr"> 4: </span><span style="color: #dcaeea;">ary1</span> = np.eye(<span style="color: #da8548; font-weight: bold;">3</span>)
<span class="linenr"> 5: </span><span style="color: #c678dd;">print</span>(ary1)
<span class="linenr"> 6: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">create diagonal array</span>
<span class="linenr"> 7: </span><span style="color: #dcaeea;">ary2</span> = np.diag((<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">6</span>))
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(ary2)
<span class="linenr"> 9: </span><span style="color: #5B6268;">#</span>
<span class="linenr">10: </span><span style="color: #dcaeea;">ary3</span> = np.array([<span style="color: #c678dd;">range</span>(i, i+<span style="color: #da8548; font-weight: bold;">3</span>) <span style="color: #51afef;">for</span> i <span style="color: #51afef;">in</span> [<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">6</span>]])
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(ary3)
<span class="linenr">12: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">tile</span>
<span class="linenr">13: </span><span style="color: #dcaeea;">ary4</span> = np.array([<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>])
<span class="linenr">14: </span><span style="color: #c678dd;">print</span>(np.tile(ary4,<span style="color: #da8548; font-weight: bold;">2</span>))
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(np.tile(ary4,(<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>)))
<span class="linenr">16: </span><span style="color: #dcaeea;">ary5</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>],[<span style="color: #da8548; font-weight: bold;">6</span>,<span style="color: #da8548; font-weight: bold;">7</span>]])
<span class="linenr">17: </span><span style="color: #c678dd;">print</span>(np.tile(ary5,<span style="color: #da8548; font-weight: bold;">3</span>))
<span class="linenr">18: </span><span style="color: #c678dd;">print</span>(np.tile(ary5,(<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>)))
</pre>
</div>

<pre class="example" id="org99c9d42">
[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]
[[2 0 0 0]
 [0 1 0 0]
 [0 0 4 0]
 [0 0 0 6]]
[[2 3 4]
 [4 5 6]
 [6 7 8]]
[0 1 2 0 1 2]
[[0 1 2 0 1 2]
 [0 1 2 0 1 2]]
[[1 2 1 2 1 2]
 [6 7 6 7 6 7]]
[[1 2 1 2]
 [6 7 6 7]
 [1 2 1 2]
 [6 7 6 7]]
</pre>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org5790a86" class="outline-2">
<h2 id="org5790a86"><span class="section-number-2">5.</span> 矩陣運算</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org26be5ac" class="outline-3">
<h3 id="org26be5ac"><span class="section-number-3">5.1.</span> Numpy計算時間比較</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-babel-python-command</span> <span style="color: #98be65;">"ipython --no-banner --classic --no-confirm-exit"</span><span style="color: #51afef;">)</span>
</pre>
</div>
<p>
自行比較以下兩個版本的執行時間<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #dcaeea;">ar</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1000</span>)
%timeit ar**<span style="color: #da8548; font-weight: bold;">3</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>%timeit [i**<span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #51afef;">for</span> i <span style="color: #51afef;">in</span> <span style="color: #c678dd;">range</span>(<span style="color: #da8548; font-weight: bold;">1000</span>)]
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">ar</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1000</span>)
%timeit ar**<span style="color: #da8548; font-weight: bold;">3</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgae52907" class="outline-3">
<h3 id="orgae52907"><span class="section-number-3">5.2.</span> [課堂練習]</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li><p>
模擬一個37人/7科的全班月考成績(隨機生成)<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #da8548; font-weight: bold;">1</span> : <span style="color: #da8548; font-weight: bold;">33</span>  <span style="color: #da8548; font-weight: bold;">66</span>  <span style="color: #da8548; font-weight: bold;">29</span>
<span style="color: #da8548; font-weight: bold;">2</span> : <span style="color: #da8548; font-weight: bold;">86</span>  <span style="color: #da8548; font-weight: bold;">1</span>   <span style="color: #da8548; font-weight: bold;">11</span>
<span style="color: #da8548; font-weight: bold;">3</span> : <span style="color: #da8548; font-weight: bold;">84</span>  <span style="color: #da8548; font-weight: bold;">66</span>  <span style="color: #da8548; font-weight: bold;">81</span>
<span style="color: #da8548; font-weight: bold;">4</span> : <span style="color: #da8548; font-weight: bold;">76</span>  <span style="color: #da8548; font-weight: bold;">38</span>  <span style="color: #da8548; font-weight: bold;">16</span>
<span style="color: #da8548; font-weight: bold;">5</span> : <span style="color: #da8548; font-weight: bold;">13</span>  <span style="color: #da8548; font-weight: bold;">27</span>  <span style="color: #da8548; font-weight: bold;">77</span>
<span style="color: #da8548; font-weight: bold;">6</span> : <span style="color: #da8548; font-weight: bold;">88</span>  <span style="color: #da8548; font-weight: bold;">14</span>  <span style="color: #da8548; font-weight: bold;">47</span>
<span style="color: #da8548; font-weight: bold;">7</span> : <span style="color: #da8548; font-weight: bold;">45</span>  <span style="color: #da8548; font-weight: bold;">70</span>  <span style="color: #da8548; font-weight: bold;">35</span>
<span style="color: #da8548; font-weight: bold;">8</span> : <span style="color: #da8548; font-weight: bold;">94</span>  <span style="color: #da8548; font-weight: bold;">79</span>  <span style="color: #da8548; font-weight: bold;">98</span>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org61d2323" class="outline-3">
<h3 id="org61d2323"><span class="section-number-3">5.3.</span> 矩陣運算</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<ol class="org-ol">
<li><a id="org4d96563"></a>矩陣變形:reshape()<br />
<div class="outline-text-4" id="text-5-3-1">
<ol class="org-ol">
<li>reshape()<br /></li>
<li>transpose()<br /></li>
</ol>
</div>
<ul class="org-ul">
<li><a id="org4241356"></a>reshape<br />
<div class="outline-text-5" id="text-org4241356">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">x</span> = np.arange(<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">10</span>)
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(x.reshape(<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">4</span>))
</pre>
</div>

<pre class="example">
[[2 3 4 5]
 [6 7 8 9]]
</pre>
</div>
</li>
<li><a id="orgc28387b"></a>Flattening and Transpose<br />
<div class="outline-text-5" id="text-orgc28387b">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">ac</span> = np.array([np.arange(<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">6</span>),np.arange(<span style="color: #da8548; font-weight: bold;">10</span>,<span style="color: #da8548; font-weight: bold;">15</span>)])
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(ac)
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(ac.ravel())
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(ac.T)
</pre>
</div>

<pre class="example">
[[ 1  2  3  4  5]
 [10 11 12 13 14]]
[ 1  2  3  4  5 10 11 12 13 14]
[[ 1 10]
 [ 2 11]
 [ 3 12]
 [ 4 13]
 [ 5 14]]
</pre>
</div>
</li>
<li><a id="org38a12ba"></a>Add a dimension<br />
<div class="outline-text-5" id="text-org38a12ba">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>  <span style="color: #dcaeea;">ar</span> = np.array([<span style="color: #da8548; font-weight: bold;">14</span>,<span style="color: #da8548; font-weight: bold;">15</span>,<span style="color: #da8548; font-weight: bold;">16</span>])
<span class="linenr">3: </span>  <span style="color: #c678dd;">print</span>(ar)
<span class="linenr">4: </span>  <span style="color: #c678dd;">print</span>(ar.shape)
<span class="linenr">5: </span>
<span class="linenr">6: </span>  <span style="color: #dcaeea;">ar</span> = ar[:,np.newaxis]
<span class="linenr">7: </span>  <span style="color: #c678dd;">print</span>(ar.shape)
<span class="linenr">8: </span>  <span style="color: #c678dd;">print</span>(ar)
</pre>
</div>

<pre class="example">
[14 15 16]
(3,)
(3, 1)
[[14]
 [15]
 [16]]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org5362e96"></a>索引(Indexing)、切片(Slicing)<br />
<div class="outline-text-4" id="text-5-3-2">
<p>
索引(Indexing)的用途不外乎就是為了要從陣列和矩陣中取值，但除此之外有很多種功能！可以取出連續區間，還可以間隔取值！<sup><a id="fnr.5" class="footref" href="#fn.5" role="doc-backlink">5</a></sup><br />
</p>
</div>
<ul class="org-ul">
<li><a id="orgd6649ed"></a>選取連續區間 [a:b]<br />
<div class="outline-text-5" id="text-orgd6649ed">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">10</span>) ** <span style="color: #da8548; font-weight: bold;">2</span>
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a=&gt; {0}"</span>.<span style="color: #c678dd;">format</span>(a))
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a[2:5]=&gt; {0}"</span>.<span style="color: #c678dd;">format</span>(a[<span style="color: #da8548; font-weight: bold;">2</span>:<span style="color: #da8548; font-weight: bold;">5</span>]))
</pre>
</div>

<pre class="example">
a=&gt; [ 0  1  4  9 16 25 36 49 64 81]
a[2:5]=&gt; [ 4  9 16]
</pre>
</div>
</li>
<li><a id="orgdd49d92"></a>間隔選取[::c]<br />
<div class="outline-text-5" id="text-orgdd49d92">
<p>
以1維陣列來說明x[a:b:c]<br />
</p>
<ul class="org-ul">
<li>a：選取資料的起始索引<br /></li>
<li>b：選取資料的結束索引+1<br /></li>
<li>c：選取資料間隔，以索引值可以被此值整除的元素，不指定表示1<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">10</span>) ** <span style="color: #da8548; font-weight: bold;">2</span>
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a==&gt; {0}"</span>.<span style="color: #c678dd;">format</span>(a))
<span class="linenr">4: </span><span style="color: #dcaeea;">a</span>[<span style="color: #da8548; font-weight: bold;">2</span>:<span style="color: #da8548; font-weight: bold;">9</span>:<span style="color: #da8548; font-weight: bold;">3</span>] = <span style="color: #da8548; font-weight: bold;">999</span>
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a==&gt; {0}"</span>.<span style="color: #c678dd;">format</span>(a))
</pre>
</div>

<pre class="example">
a==&gt; [ 0  1  4  9 16 25 36 49 64 81]
a==&gt; [  0   1 999   9  16 999  36  49 999  81]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org69606b8"></a>取出特定行列、特定範圍<br />
<div class="outline-text-4" id="text-5-3-3">
<ul class="org-ul">
<li>取出第x列: Ary[x]<br /></li>
<li>取出第x行: Ary[:,x]<br /></li>
<li>取出第x_{1}~x_{2}列、第y_{1}~y_{2}行的範圍: Ary[x_{1}:x_{2} + 1, y_{1}:y_{2} + 1]<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">12</span>).reshape(<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(a)
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(a[<span style="color: #da8548; font-weight: bold;">1</span>])
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(a[:,<span style="color: #da8548; font-weight: bold;">1</span>])
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(a[<span style="color: #da8548; font-weight: bold;">1</span>:<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">1</span>:<span style="color: #da8548; font-weight: bold;">3</span>])
</pre>
</div>

<pre class="example">
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
[4 5 6 7]
[1 5 9]
[[ 5  6]
 [ 9 10]]
</pre>
</div>
</li>
<li><a id="orgd3b88e6"></a>刪除行/列<br />
<div class="outline-text-4" id="text-5-3-4">
<p>
np.delete(temp,0,axis=1)#temp為操作物件，0表示要刪除的物件索引，axis表示行還是列，axis=0表示刪除行，axis=1表示刪除列。<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">12</span>).reshape(<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span class="linenr"> 4: </span><span style="color: #c678dd;">print</span>(a)
<span class="linenr"> 5: </span><span style="color: #dcaeea;">a_delCol1</span> = np.delete(a, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'&#21034;&#38500;&#31532;1&#34892;'</span>)
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(a_delCol1)
<span class="linenr"> 8: </span><span style="color: #dcaeea;">a_delRow1</span> = np.delete(a, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span>)
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'&#21034;&#38500;&#31532;1&#21015;'</span>)
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(a_delRow1)
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'&#29694;&#22312;&#30340;a'</span>)
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(a)
</pre>
</div>

<pre class="example" id="org42f280f">
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
刪除第1行
[[ 0  1  2  3]
 [ 8  9 10 11]]
刪除第1列
[[ 0  2  3]
 [ 4  6  7]
 [ 8 10 11]]
現在的a
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</pre>
</div>
</li>
<li><a id="org0e13843"></a>迭代(輸出)<br />
<div class="outline-text-4" id="text-5-3-5">
<p>
如果是要對整個矩陣的值做運算，無需使用迴圈<br />
</p>
</div>
<ul class="org-ul">
<li><a id="org60cf112"></a>一維陣列<br />
<div class="outline-text-5" id="text-org60cf112">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">4</span>) ** <span style="color: #da8548; font-weight: bold;">2</span>
<span class="linenr">3: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a: "</span>,a)
<span class="linenr">4: </span><span style="color: #51afef;">for</span> i <span style="color: #51afef;">in</span> a:
<span class="linenr">5: </span>    <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a**(1/2)=&gt; {0}"</span>.<span style="color: #c678dd;">format</span>(np.<span style="color: #c678dd;">round</span>(i**(<span style="color: #da8548; font-weight: bold;">1</span>/<span style="color: #da8548; font-weight: bold;">2</span>), <span style="color: #da8548; font-weight: bold;">0</span>)))
</pre>
</div>

<pre class="example">
('a: ', array([0, 1, 4, 9]))
a**(1/2)=&gt; 1
a**(1/2)=&gt; 1
a**(1/2)=&gt; 1
a**(1/2)=&gt; 1
</pre>
</div>
</li>
<li><a id="orgbb00143"></a>多維陣列: 多維陣列在for loop中取值時，會以第一維度為優先！<br />
<div class="outline-text-5" id="text-orgbb00143">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">41</span>).reshape(<span style="color: #da8548; font-weight: bold;">5</span>, <span style="color: #da8548; font-weight: bold;">8</span>)
<span class="linenr">3: </span><span style="color: #51afef;">for</span> row <span style="color: #51afef;">in</span> a:
<span class="linenr">4: </span>    <span style="color: #51afef;">for</span> i <span style="color: #51afef;">in</span> row:
<span class="linenr">5: </span>        <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"{0:3d}"</span>.<span style="color: #c678dd;">format</span>(i), end=<span style="color: #98be65;">''</span>)
<span class="linenr">6: </span>    <span style="color: #c678dd;">print</span>()
<span class="linenr">7: </span>
</pre>
</div>

<pre class="example">
 1  2  3  4  5  6  7  8
 9 10 11 12 13 14 15 16
17 18 19 20 21 22 23 24
25 26 27 28 29 30 31 32
33 34 35 36 37 38 39 40
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org08bc030"></a>基礎運算<br />
<ul class="org-ul">
<li><a id="org77114f3"></a>維度相同的矩陣相加、減<br />
<div class="outline-text-5" id="text-org77114f3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">a</span> = np.array( [<span style="color: #da8548; font-weight: bold;">6</span>, <span style="color: #da8548; font-weight: bold;">7</span>, <span style="color: #da8548; font-weight: bold;">8</span>, <span style="color: #da8548; font-weight: bold;">9</span>] )
<span style="color: #dcaeea;">b</span> = np.arange( <span style="color: #da8548; font-weight: bold;">4</span> )
<span style="color: #dcaeea;">c</span> = a - b
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(a))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"b=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(b))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"c=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(c))
</pre>
</div>
<pre class="example">
a=&gt;[6 7 8 9]
b=&gt;[0 1 2 3]
c=&gt;[6 6 6 6]
</pre>
</div>
</li>
<li><a id="org8647760"></a>矩陣與常數運算<br />
<div class="outline-text-5" id="text-org8647760">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #51afef;">import</span> math
<span style="color: #dcaeea;">a</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">100</span>, size=(<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">4</span>)) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#30697;&#38499;&#22823;&#23567;&#20197;tuple&#34920;&#31034;</span>

<span style="color: #dcaeea;">b</span> = a + <span style="color: #da8548; font-weight: bold;">10</span>
<span style="color: #dcaeea;">c</span> = a**<span style="color: #da8548; font-weight: bold;">2</span>
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(a))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"b=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(b))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"c=&gt;{0}"</span>.<span style="color: #c678dd;">format</span>(c))
</pre>
</div>

<pre class="example">
a=&gt;[[51 74 98 37]
 [13 13 74 86]]
b=&gt;[[ 61  84 108  47]
 [ 23  23  84  96]]
c=&gt;[[2601 5476 9604 1369]
 [ 169  169 5476 7396]]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org68588e9"></a>矩陣轉置<br />
<div class="outline-text-4" id="text-5-3-7">
<p>
\[a=\begin{bmatrix}1&0\\2&3\end{bmatrix}, a^T=\begin{bmatrix}1&2\\0&3\end{bmatrix}\]<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">a</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">0</span>],
              [<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>]])
<span style="color: #c678dd;">print</span>(a)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'--Matrix transpose--'</span>)
<span style="color: #c678dd;">print</span>(a.transpose())
</pre>
</div>

<pre class="example">
[[1 0]
 [2 3]]
--Matrix transpose--
[[1 2]
 [0 3]]
</pre>
</div>
</li>
<li><a id="org5b795fd"></a>矩陣相乘<br />
<ul class="org-ul">
<li><a id="orga42e090"></a>矩陣乘法<br />
<div class="outline-text-5" id="text-orga42e090">
<p>
\[a=\begin{bmatrix}a_{11}&a_{12}\\a_{21}&a_{22}\end{bmatrix}, b=\begin{bmatrix}b_{11}&b_{12}&b_{13}\\b_{21}&b_{22}&b_{23}\end{bmatrix}\]<br />
\[a \cdot b=\begin{bmatrix}a_{11}*b_{11}+a_{12}*b_{21}&a_{11}*b_{12}+a_{12}*b_{22}&a_{11}*b_{13}+a_{12}*b_{23}\\a_{21}*b_{11}+a_{22}*b_{21}&a_{21}*b_{12}+a_{22}*b_{22}&a_{21}*b_{13}+a_{22}*b_{23}\end{bmatrix}\]<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">A</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>], [<span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">2</span>]])
<span style="color: #dcaeea;">B</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>], [<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">0</span>], [<span style="color: #da8548; font-weight: bold;">3</span>, -<span style="color: #da8548; font-weight: bold;">1</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"{0}"</span>.<span style="color: #c678dd;">format</span>(A.dot(B)))
</pre>
</div>

<pre class="example">
[[14 -1]
 [16  6]]
</pre>
</div>
</li>
<li><a id="orgb67ed37"></a>相對位置乘法<br />
<div class="outline-text-5" id="text-orgb67ed37">
<p>
\[a=\begin{bmatrix}a_{11}&a_{12}\\a_{21}&a_{22}\end{bmatrix}, b=\begin{bmatrix}b_{11}&b_{12}\\b_{21}&b_{22}\end{bmatrix}\]<br />
\[a \cdot b=\begin{bmatrix}a_{11}*b_{11}&a_{12}*b_{12}\\a_{21}*b_{21}&a_{22}*b_{22}\end{bmatrix}\]<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">A</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>], [<span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">5</span>]])
<span style="color: #dcaeea;">B</span> = np.array([[<span style="color: #da8548; font-weight: bold;">7</span>, <span style="color: #da8548; font-weight: bold;">8</span>], [<span style="color: #da8548; font-weight: bold;">9</span>, <span style="color: #da8548; font-weight: bold;">10</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"A:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">{0}"</span>.<span style="color: #c678dd;">format</span>(A))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"B:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">{0}"</span>.<span style="color: #c678dd;">format</span>(B))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"A*B:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">{0}"</span>.<span style="color: #c678dd;">format</span>(A*B))

</pre>
</div>

<pre class="example">
A:
[[1 2]
 [4 5]]
B:
[[ 7  8]
 [ 9 10]]
A*B:
[[ 7 16]
 [36 50]]
</pre>
</div>
</li>
<li><a id="org1afa101"></a>取代矩陣中元素<br />
<div class="outline-text-5" id="text-org1afa101">
<p>
這裡也可以看出NumPy對於選取矩陣中元素的極好彈性，可直接以條件來當成選取方式<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">C</span> = np.array([<span style="color: #da8548; font-weight: bold;">5</span>, -<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">9</span>, <span style="color: #da8548; font-weight: bold;">0</span>])
<span style="color: #c678dd;">print</span>(C&lt;=<span style="color: #da8548; font-weight: bold;">0</span>)
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#23559;&#30697;&#38499;&#20013;&#23567;&#26044;&#31561;&#26044;0&#30340;&#20803;&#32032;&#21462;&#20195;&#28858;0;&#20854;&#20182;&#36681;&#28858;1</span>
<span style="color: #dcaeea;">C</span>[C&lt;=<span style="color: #da8548; font-weight: bold;">0</span>] = <span style="color: #da8548; font-weight: bold;">0</span>
<span style="color: #dcaeea;">C</span>[C&gt;<span style="color: #da8548; font-weight: bold;">0</span>] = <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #c678dd;">print</span>(C)
</pre>
</div>

<pre class="example">
[False  True False False  True]
[1 0 1 1 0]
</pre>
</div>
</li>
<li><a id="orgf0f473c"></a>[課堂練習]<br />
<div class="outline-text-5" id="text-orgf0f473c">
<ul class="org-ul">
<li>模擬一個37人/7科的全班月考成績(隨機生成, 0~100)<br /></li>
<li>將所有 55&lt;=分數&lt;60 的成績均改為60<br /></li>
</ul>
</div>
</li>
</ul>
</li>
<li><a id="org961eb96"></a>矩陣間元素相乘<br />
<div class="outline-text-4" id="text-5-3-9">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 2: </span><span style="color: #dcaeea;">ar</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">5</span>)
<span class="linenr"> 3: </span><span style="color: #c678dd;">print</span>(ar.prod())
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">ar1</span> = np.array([np.arange(<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">4</span>),np.arange(<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">7</span>),np.arange(<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">10</span>)])
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(ar1)
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(np.prod(ar1, axis=<span style="color: #da8548; font-weight: bold;">1</span>))
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(ar1.<span style="color: #c678dd;">sum</span>())
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(ar1.mean())
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(np.median(ar1))
</pre>
</div>

<pre class="example">
24
[[1 2 3]
 [4 5 6]
 [7 8 9]]
[  6 120 504]
45
5.0
5.0
</pre>
</div>
</li>
<li><a id="org7fa4f82"></a>反矩陣<br />
<div class="outline-text-4" id="text-5-3-10">
<p>
AB=BA=I, 其中 I 為單位矩陣<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">A</span> = np.array([[<span style="color: #da8548; font-weight: bold;">4</span>, -<span style="color: #da8548; font-weight: bold;">7</span>], [<span style="color: #da8548; font-weight: bold;">2</span>, -<span style="color: #da8548; font-weight: bold;">3</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"A:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, A)
<span style="color: #dcaeea;">B</span> = np.linalg.inv(A)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"B:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, B)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"A dot B:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, A.dot(B))
</pre>
</div>

<pre class="example">
A:
 [[ 4 -7]
 [ 2 -3]]
B:
 [[-1.5  3.5]
 [-1.   2. ]]
A dot B:
 [[1. 0.]
 [0. 1.]]
</pre>
</div>
</li>
<li><a id="org2e21bc1"></a>合併矩陣<br />
<ul class="org-ul">
<li><a id="orga212bb1"></a>vstack<br />
<div class="outline-text-5" id="text-orga212bb1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">a</span> = np.ones((<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">2</span>))
<span style="color: #dcaeea;">b</span> = np.zeros(<span style="color: #da8548; font-weight: bold;">2</span>)
<span style="color: #c678dd;">print</span>(a)
<span style="color: #c678dd;">print</span>(b)
<span style="color: #dcaeea;">c</span> = np.vstack((a, b))
<span style="color: #c678dd;">print</span>(c)
</pre>
</div>

<pre class="example">
[[1. 1.]
 [1. 1.]]
[0. 0.]
[[1. 1.]
 [1. 1.]
 [0. 0.]]
</pre>
</div>
</li>
<li><a id="orga7478e6"></a>hstack<br />
<div class="outline-text-5" id="text-orga7478e6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">a</span> = np.ones((<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">2</span>))
<span style="color: #dcaeea;">b</span> = [[<span style="color: #da8548; font-weight: bold;">3</span>],
     [<span style="color: #da8548; font-weight: bold;">4</span>]]
<span style="color: #c678dd;">print</span>(a)
<span style="color: #c678dd;">print</span>(b)
<span style="color: #dcaeea;">c</span> = np.hstack((a, b))
<span style="color: #c678dd;">print</span>(c)

</pre>
</div>

<pre class="example">
[[1. 1.]
 [1. 1.]]
[[3], [4]]
[[1. 1. 3.]
 [1. 1. 4.]]
</pre>
</div>
</li>
</ul>
</li>
</ol>
</div>
<div id="outline-container-org470fbf9" class="outline-3">
<h3 id="org470fbf9"><span class="section-number-3">5.4.</span> 矩陣函數</h3>
<div class="outline-text-3" id="text-5-4">
</div>
<ol class="org-ol">
<li><a id="org6c3d400"></a><a href="https://numpy.org/doc/stable/reference/generated/numpy.sum.html">官網</a><br /></li>
<li><a id="org3ab2f0e"></a>numpy.sum()<br />
<ul class="org-ul">
<li><a id="org7c7ef2b"></a>語法<br />
<div class="outline-text-5" id="text-org7c7ef2b">
<div class="org-src-container">
<pre class="src src-python">numpy.<span style="color: #c678dd;">sum</span>(a, axis=<span style="color: #a9a1e1;">None</span>, dtype=<span style="color: #a9a1e1;">None</span>, out=<span style="color: #a9a1e1;">None</span>, keepdims=&lt;no value&gt;, initial=&lt;no value&gt;, where=&lt;no value&gt;)
</pre>
</div>
<p>
其他參數用法詳見<a href="https://numpy.org/doc/stable/reference/generated/numpy.sum.html">官方網站</a><br />
</p>
</div>
</li>
<li><a id="org1d83a84"></a>範例<br />
<div class="outline-text-5" id="text-org1d83a84">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np_array_2x3</span> = np.array([[<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">4</span>],[<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">5</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====Array====='</span>)
<span style="color: #c678dd;">print</span>(np_array_2x3)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#21015;====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">sum</span>(np_array_2x3, axis = <span style="color: #da8548; font-weight: bold;">0</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#34892;====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">sum</span>(np_array_2x3, axis = <span style="color: #da8548; font-weight: bold;">1</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#38499;&#21015;&#32317;&#21644;1====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">sum</span>(np_array_2x3))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#38499;&#21015;&#32317;&#21644;2====='</span>)
<span style="color: #c678dd;">print</span>(np_array_2x3.<span style="color: #c678dd;">sum</span>())

</pre>
</div>

<pre class="example" id="org980e7bb">
=====Array=====
[[0 2 4]
 [1 3 5]]
=====列=====
[1 5 9]
=====行=====
[6 9]
=====陣列=====
15
=====陣列=====
15
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org233314b"></a>其他常用函數<br />
<div class="outline-text-4" id="text-5-4-3">
<ul class="org-ul">
<li>min()<br /></li>
<li>max()<br /></li>
<li>argmin<br /></li>
<li>mean()<br /></li>
<li>std()<br /></li>
<li>var()<br /></li>
<li>sqrt()<br /></li>
<li>size()<br /></li>
<li>dtype()<br /></li>
<li>itemsize()<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np1</span> = np.random.randint(<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">10</span>, size=[<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">2</span>])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"np</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>, np1)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"np1.sum"</span>, np1.<span style="color: #c678dd;">sum</span>())
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"sum:"</span>, <span style="color: #c678dd;">sum</span>(np1))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"sum:"</span>, <span style="color: #c678dd;">sum</span>(np1,<span style="color: #da8548; font-weight: bold;">3</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"min:"</span>, np1.<span style="color: #c678dd;">min</span>())
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"max:"</span>, np1.<span style="color: #c678dd;">max</span>())
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"mean:"</span>, np.mean(np1))
</pre>
</div>

<pre class="example" id="org5dd2c04">
np
 [[0 0]
 [0 3]
 [0 3]]
np1.sum 6
sum: [0 6]
sum: [3 9]
min: 0
max: 3
mean: 1.0
</pre>
</div>
</li>
<li><a id="orgf063adc"></a>sum() v.s. np.sum()<br />
<div class="outline-text-4" id="text-5-4-4">

<div id="org6a711ed" class="figure">
<p><img src="images/2sum.png" alt="2sum.png" width="400" /><br />
</p>
<p><span class="figure-number">Figure 2: </span>sum() v.s. np.sum()</p>
</div>
</div>
</li>
<li><a id="orgf7fb7f1"></a>numpy.max()<br />
<ul class="org-ul">
<li><a id="org32192f7"></a>語法<br />
<div class="outline-text-5" id="text-org32192f7">
<div class="org-src-container">
<pre class="src src-python">numpy.<span style="color: #c678dd;">max</span>(a, axis=<span style="color: #a9a1e1;">None</span>, out=<span style="color: #a9a1e1;">None</span>, keepdims=<span style="color: #a9a1e1;">False</span>)
</pre>
</div>
<ul class="org-ul">
<li>求序列的最值<br /></li>
<li>最少接收一個引數<br /></li>
<li>axis：預設為列向（也即 axis=0），axis = 1 時為行方向的最值；<br /></li>
</ul>
</div>
</li>
<li><a id="orgf8b1452"></a>範例<br />
<div class="outline-text-5" id="text-orgf8b1452">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">np_array_2x3</span> = np.array([[<span style="color: #da8548; font-weight: bold;">9</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">8</span>],[<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">5</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====Array====='</span>)
<span style="color: #c678dd;">print</span>(np_array_2x3)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#21015;====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">max</span>(np_array_2x3, axis = <span style="color: #da8548; font-weight: bold;">0</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#34892;====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">max</span>(np_array_2x3, axis = <span style="color: #da8548; font-weight: bold;">1</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#38499;&#21015;====='</span>)
<span style="color: #c678dd;">print</span>(np.<span style="color: #c678dd;">max</span>(np_array_2x3))
</pre>
</div>

<pre class="example">
=====Array=====
[[9 2 8]
 [4 7 5]]
=====列=====
[9 7 8]
=====行=====
[9 7]
=====陣列=====
9
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org01ea48f"></a>numpy.maxium()<br />
<ul class="org-ul">
<li><a id="org3816be8"></a>語法<br />
<div class="outline-text-5" id="text-org3816be8">
<div class="org-src-container">
<pre class="src src-python">numpy.maximum&#65306;(X, Y, out=<span style="color: #a9a1e1;">None</span>)
</pre>
</div>
<ul class="org-ul">
<li>X 與 Y 逐位比較取其大者；<br /></li>
<li>最少接收兩個引數<br /></li>
</ul>
</div>
</li>
<li><a id="org4c5817b"></a>範例<br />
<div class="outline-text-5" id="text-org4c5817b">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">npA1</span> = np.array([[<span style="color: #da8548; font-weight: bold;">9</span>,-<span style="color: #da8548; font-weight: bold;">9</span>,<span style="color: #da8548; font-weight: bold;">8</span>],[<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">5</span>]])
<span style="color: #dcaeea;">npA2</span> = np.array([[<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">8</span>],[<span style="color: #da8548; font-weight: bold;">10</span>,-<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">5</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====npA1====="</span>)
<span style="color: #c678dd;">print</span>(npA1)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====npA2====="</span>)
<span style="color: #c678dd;">print</span>(npA2)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====maximum====="</span>)
<span style="color: #c678dd;">print</span>(np.maximum(npA1, npA2))
</pre>
</div>

<pre class="example">
=====npA1=====
[[ 9 -9  8]
 [ 4  7  5]]
=====npA2=====
[[ 0  1  8]
 [10 -7  5]]
=====maximum=====
[[ 9  1  8]
 [10  7  5]]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org14942aa"></a>numpy.argmax()<br />
<ul class="org-ul">
<li><a id="orgf5f258c"></a>語法<br />
<div class="outline-text-5" id="text-orgf5f258c">
<div class="org-src-container">
<pre class="src src-python">numpy.argmax(a, axis=<span style="color: #a9a1e1;">None</span>, out=<span style="color: #a9a1e1;">None</span>)[source]&#182;
</pre>
</div>
<ul class="org-ul">
<li>a: 可以轉換為陣列的陣列或物件，我們需要在其中找到最高值的索引。<br /></li>
<li>axis: 沿著行(axis=0)或列(axis=1)查詢最大值的索引。預設情況下，通過對陣列進行展平可以找到最大值的索引。<br /></li>
<li>out: np.argmax 方法結果的佔位符。它必須有適當的大小以容納結果。Returns the indices of the maximum values along an axis.<br /></li>
</ul>
</div>
</li>
<li><a id="org0785bc5"></a>範例<br />
<ul class="org-ul">
<li><a id="org0fbd52d"></a>一維陣列<br />
<div class="outline-text-6" id="text-org0fbd52d">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">a</span>=np.array([<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">6</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">6</span>])

<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"Array:"</span>)
<span style="color: #c678dd;">print</span>(a)

<span style="color: #dcaeea;">req_index</span>=np.argmax(a)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">Index with the largest value:"</span>)
<span style="color: #c678dd;">print</span>(req_index)

<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">The largest value in the array:"</span>)
<span style="color: #c678dd;">print</span>(a[req_index])
</pre>
</div>

<pre class="example">
Array:
[2 6 1 6]

Index with the largest value:
1

The largest value in the array:
6
</pre>
</div>
</li>
<li><a id="org7a0b04e"></a>二維陣列<br />
<div class="outline-text-6" id="text-org7a0b04e">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">a</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">6</span>],
            [<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">14</span>,<span style="color: #da8548; font-weight: bold;">5</span>]])

<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"Array:"</span>)
<span style="color: #c678dd;">print</span>(a)

<span style="color: #dcaeea;">req_index</span>=np.argmax(a, axis=<span style="color: #da8548; font-weight: bold;">0</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">Index with the largest value(axis=0):"</span>)
<span style="color: #c678dd;">print</span>(req_index)
<span style="color: #dcaeea;">req_index</span>=np.argmax(a, axis=<span style="color: #da8548; font-weight: bold;">1</span>)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">Index with the largest value(axis=1):"</span>)
<span style="color: #c678dd;">print</span>(req_index)
<span style="color: #dcaeea;">req_index</span>=np.argmax(a)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">Index with the largest value:"</span>)
<span style="color: #c678dd;">print</span>(req_index)

</pre>
</div>

<pre class="example" id="org8fdf2b4">
Array:
[[ 2  1  6]
 [ 7 14  5]]

Index with the largest value(axis=0):
[1 1 0]

Index with the largest value(axis=1):
[2 1]

Index with the largest value:
4
</pre>

<div id="org544e8c0" class="figure">
<p><img src="images/argSeq.jpg" alt="argSeq.jpg" width="200" /><br />
</p>
<p><span class="figure-number">Figure 3: </span>Sequence of Arg in array</p>
</div>
</div>
</li>
</ul>
</li>
</ul>
</li>
<li><a id="orgae9b3a3"></a>about axis<br />
<div class="outline-text-4" id="text-5-4-8">

<div id="orgf1b09be" class="figure">
<p><img src="images/aryaxis.jpg" alt="aryaxis.jpg" width="400" /><br />
</p>
<p><span class="figure-number">Figure 4: </span>Axis in ndarray</p>
</div>
</div>
</li>
<li><a id="org80ea577"></a>tile()<br />
<div class="outline-text-4" id="text-5-4-9">
<p>
numpy.tile()是個什麼函數呢，說白了，就是把數組沿各個方向複製<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#19968;&#32173;tile====='</span>)
<span style="color: #dcaeea;">b</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>], [<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>]])
<span style="color: #dcaeea;">b1</span> = np.tile(b, <span style="color: #da8548; font-weight: bold;">2</span>)
<span style="color: #c678dd;">print</span>(b1)
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====&#20108;&#32173;tile====='</span>)
<span style="color: #dcaeea;">b2</span> = np.tile(b, (<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>))
<span style="color: #c678dd;">print</span>(b2)
</pre>
</div>

<pre class="example">
=====一維tile=====
[[1 2 1 2]
 [3 4 3 4]]
=====二維tile=====
[[1 2 1 2 1 2]
 [3 4 3 4 3 4]
 [1 2 1 2 1 2]
 [3 4 3 4 3 4]]
</pre>
</div>
</li>
<li><a id="org37decc2"></a>numpy.allclose<br />
<div class="outline-text-4" id="text-5-4-10">
<ul class="org-ul">
<li>Returns True if two arrays are element-wise equal within a tolerance.<br /></li>
<li>The tolerance values are positive, typically very small numbers. The relative difference (rtol * abs(b)) and the absolute difference atol are added together to compare against the absolute difference between a and b.<br /></li>
<li>NaNs are treated as equal if they are in the same place and if equal_nan=True. Infs are treated as equal if they are in the same place and of the same sign in both arrays.<br /></li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org2292e5f"></a>語法<br />
<div class="outline-text-5" id="text-org2292e5f">
<div class="org-src-container">
<pre class="src src-python">numpy.allclose(a, b, rtol=1e-<span style="color: #da8548; font-weight: bold;">05</span>, atol=1e-<span style="color: #da8548; font-weight: bold;">08</span>, equal_nan=<span style="color: #a9a1e1;">False</span>)
</pre>
</div>
</div>
</li>
<li><a id="orgbb67186"></a>Parameters<br />
<div class="outline-text-5" id="text-orgbb67186">
<ul class="org-ul">
<li>a, b: array_like. Input arrays to compare.<br /></li>
<li>rtol: float. The relative tolerance parameter (see Notes).<br /></li>
<li>atol: float. The absolute tolerance parameter (see Notes).<br /></li>
<li>equal_nan: bool. Whether to compare NaN’s as equal. If True, NaN’s in a will be considered equal to NaN’s in b in the output array.<br /></li>
</ul>
</div>
</li>
<li><a id="org81de158"></a>Returns<br />
<div class="outline-text-5" id="text-org81de158">
<ul class="org-ul">
<li>allclose: bool. Returns True if the two arrays are equal within the given tolerance; False otherwise.<br /></li>
</ul>
</div>
</li>
<li><a id="org2038db4"></a>See also:<br />
<div class="outline-text-5" id="text-org2038db4">
<ul class="org-ul">
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.isclose.html#numpy.isclose">isclose</a><br /></li>
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all">all</a><br /></li>
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all">any</a><br /></li>
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.equal.html#numpy.equal">equal</a><br /></li>
</ul>
</div>
</li>
<li><a id="orgc56f70f"></a>DEMO<br />
<div class="outline-text-5" id="text-orgc56f70f">
<p>
參考: <a href="https://www.itdaan.com/tw/cc576c8f8162ab7ee9e3d6afdbf454fc">測試兩個numpy數組(接近)是否相等，包括形狀</a><br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #51afef;">import</span> math

<span style="color: #c678dd;">print</span>(math.pi)
<span style="color: #dcaeea;">x</span> = np.array([[<span style="color: #da8548; font-weight: bold;">3.14159265</span>, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]])
<span style="color: #dcaeea;">y</span> = np.array([[math.pi, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]])

<span style="color: #dcaeea;">z1</span> = np.array([[[<span style="color: #da8548; font-weight: bold;">3.14159265</span>, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]],
              [[<span style="color: #da8548; font-weight: bold;">3.14159265</span>, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]]])
<span style="color: #dcaeea;">z2</span> = np.array([[[math.pi, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]],
              [[math.pi, -<span style="color: #da8548; font-weight: bold;">0.1</span>], [-<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.1</span>]]])

<span style="color: #c678dd;">print</span>(np.allclose(x,y))
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">Returns true, as expected</span>

<span style="color: #c678dd;">print</span>(np.allclose(x,z1))
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">Also returns true, even though matrices are different shapes. Unwanted.</span>


<span style="color: #dcaeea;">a</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>],
              [<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>]])
<span style="color: #dcaeea;">b</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">2</span>],
              [<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">2</span>]])
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====allclose(atol=0.5)====="</span>)
<span style="color: #c678dd;">print</span>(np.allclose(a, b, atol=<span style="color: #da8548; font-weight: bold;">0.5</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====allclose(atol=1.0)====="</span>)
<span style="color: #c678dd;">print</span>(np.allclose(a, b, atol=<span style="color: #da8548; font-weight: bold;">1.0</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=====equal()====="</span>)
<span style="color: #c678dd;">print</span>(np.equal(a,b))

<span style="color: #dcaeea;">a</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>],
              [<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3.1</span>]])
<span style="color: #c678dd;">print</span>(np.allclose(a, b, atol=<span style="color: #da8548; font-weight: bold;">1.0</span>))
<span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====isclose()====='</span>)
<span style="color: #c678dd;">print</span>(np.isclose(a, b, atol=<span style="color: #da8548; font-weight: bold;">1.0</span>))
</pre>
</div>

<pre class="example" id="orgdb54963">
3.141592653589793
True
True
=====allclose(atol=0.5)=====
False
=====allclose(atol=1.0)=====
True
=====equal()=====
[[ True False  True]
 [ True  True False]]
False
=====isclose()=====
[[ True  True  True]
 [ True  True False]]
</pre>
</div>
</li>
</ul>
</li>
</ol>
</div>
<div id="outline-container-org38e4095" class="outline-3">
<h3 id="org38e4095"><span class="section-number-3">5.5.</span> [作業1]</h3>
<div class="outline-text-3" id="text-5-5">
<ol class="org-ol">
<li>隨機產生一組 30*5 個 0~100 的陣列，模擬成一個班級的某次考試成績(30 人*5 科)。<br /></li>
<li>輸出此次 5 科考科的全班總分、平均、最高分、最低分、標準差。<br /></li>
<li>將全班分數以「開根號乘以 10」的方式進行調整。<br /></li>
<li>如果調整完分數還是不及格，把分數改為39分。<br /></li>
<li>輸出不及格人數。<br /></li>
<li>輸出全班分數(至小數點第二位,關於小數點的控制請自行Google關鍵字&ldquo;numpy.set_printoptions&rdquo;)。<br /></li>
</ol>
</div>
<ul class="org-ul">
<li><a id="org7f59a9e"></a>結果範例<br />
<div class="outline-text-5" id="text-org7f59a9e">
<pre class="example" id="org9005df5">
各科總分: [1341 1522 1548 1411 1627]
各科平均: [44.7  50.73 51.6  47.03 54.23]
各科最高分: [94 95 94 98 96]
各科最低分: [6 0 4 0 0]
各科標準差: [23.78 27.85 28.07 29.48 27.59]
全班不及格科目數: 51
調整後分數:

 1: 39.00 86.60 60.00 39.00 62.45
 2: 84.85 90.00 39.00 81.24 39.00
 3: 39.00 86.60 80.62 80.00 39.00
 4: 83.07 39.00 39.00 74.83 77.46
 5: 72.80 39.00 91.10 67.82 39.00
 6: 39.00 70.00 65.57 95.39 97.98
 7: 39.00 90.00 96.95 82.46 88.88
 8: 60.00 92.74 85.44 87.75 83.67
 9: 64.81 39.00 92.20 68.56 39.00
10: 69.28 68.56 88.88 39.00 85.44
11: 39.00 39.00 94.87 39.00 76.16
12: 39.00 39.00 39.00 98.99 78.10
13: 75.50 88.32 39.00 74.16 66.33
14: 39.00 39.00 39.00 95.92 79.37
15: 70.00 39.00 39.00 83.07 73.48
16: 39.00 39.00 68.56 39.00 95.92
17: 65.57 39.00 39.00 39.00 74.83
18: 95.39 63.25 39.00 39.00 88.32
19: 39.00 95.39 60.83 39.00 74.83
20: 75.50 39.00 67.08 39.00 96.95
21: 39.00 39.00 83.67 39.00 77.46
22: 71.41 60.83 69.28 88.88 77.46
23: 74.16 97.47 39.00 73.48 93.27
24: 83.67 84.85 80.00 74.83 39.00
25: 96.95 95.92 87.18 68.56 39.00
26: 39.00 83.67 74.83 39.00 39.00
27: 60.83 77.46 83.67 83.07 91.65
28: 69.28 64.81 89.44 39.00 39.00
29: 88.88 83.07 92.74 82.46 95.92
30: 86.60 74.16 88.32 86.60 39.00

</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgc7de3c3" class="outline-3">
<h3 id="orgc7de3c3"><span class="section-number-3">5.6.</span> [作業2]</h3>
<div class="outline-text-3" id="text-5-6">
<ul class="org-ul">
<li>模擬一個37人/7科的全班月考成績(隨機生成)<br /></li>
<li>將所有原始分數轉換為<a href="https://zh.wikipedia.org/zh-tw/%E6%A8%99%E6%BA%96%E5%88%86%E6%95%B8">Z分數</a><br /></li>
</ul>
</div>
</div>
<div id="outline-container-orgab2e876" class="outline-3">
<h3 id="orgab2e876"><span class="section-number-3">5.7.</span> 解聯立方程式</h3>
<div class="outline-text-3" id="text-5-7">
<p>
Numpy的linalg function可以用來解線性方程組，若目標方程式為\[Ax=b\]，其中\[x\]為所求之解，求解語法為：<br />
</p>
<div class="org-src-container">
<pre class="src src-swift"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>x = np.<span style="color: #dcaeea;">linalg</span>.<span style="color: #c678dd;">solve</span>(A, b)
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org1dd1d39"></a>範例1<br />
<div class="outline-text-4" id="text-5-7-1">
<p>
以如下方程式為例<br />
\[\begin{cases}2x+y=5\\x+y=3\end{cases}\]<br />
可將之視為求解\[Ax=b\]，其中<br />
\[A=\begin{pmatrix}2&1\\1&1 \end{pmatrix}\], \[b=\begin{pmatrix} 5\\3 \end{pmatrix} \]<br />
</p>
</div>
<ul class="org-ul">
<li><a id="org9375d5c"></a>solution<br />
<div class="outline-text-5" id="text-org9375d5c">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">A</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">1</span>],
              [<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span>]])
<span style="color: #dcaeea;">b</span> = np.array([<span style="color: #da8548; font-weight: bold;">5</span>, <span style="color: #da8548; font-weight: bold;">3</span>])
<span style="color: #dcaeea;">x</span> = np.linalg.solve(A, b)
<span style="color: #c678dd;">print</span>(x)
<span style="color: #c678dd;">print</span>(np.allclose(np.dot(A, x), b)) <span style="color: #5B6268;">##</span><span style="color: #5B6268;">&#35413;&#20272;&#20841;&#20491;&#21521;&#37327;&#26159;&#21542;&#25509;&#36817;(relative tolerance:1e-05, absolute tolerance: 1e-08)</span>
<span style="color: #c678dd;">print</span>(np.dot(A, x)) <span style="color: #5B6268;">##</span><span style="color: #5B6268;">&#39511;&#35657;&#27491;&#30906;&#24615;</span>
</pre>
</div>

<pre class="example">
[2. 1.]
True
[5. 3.]
</pre>
</div>
</li>
</ul>
</li>
<li><a id="orgfd04ad7"></a>範例2<br />
<div class="outline-text-4" id="text-5-7-2">
<p>
求解下列方程式<br />
\[\begin{cases}3x_0+2x_1+x_2=11\\2x_0+3x_1+x_2=13\\x_0+x_1+4x_2=12 \end{cases}\], 以\[Ax=b\]表示，則<br />
\[A=\begin{pmatrix}3&2&1\\2&3&1\\1&1&4\end{pmatrix}, x=\begin{pmatrix}x_0\\x_1\\x_2\end{pmatrix}, b=\begin{pmatrix}11\\13\\12\end{pmatrix}\]<br />
</p>
</div>
<ul class="org-ul">
<li><a id="org57a42d7"></a>solution<br />
<div class="outline-text-5" id="text-org57a42d7">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">A</span> = np.array([[<span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">1</span>],
              [<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">1</span>],
              [<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">4</span>]])
<span style="color: #dcaeea;">b</span> = np.array([<span style="color: #da8548; font-weight: bold;">11</span>, <span style="color: #da8548; font-weight: bold;">13</span>, <span style="color: #da8548; font-weight: bold;">12</span>])
<span style="color: #dcaeea;">x</span> = np.linalg.solve(A, b)
<span style="color: #c678dd;">print</span>(x)
<span style="color: #c678dd;">print</span>(np.allclose(np.dot(A, x), b))
<span style="color: #c678dd;">print</span>(np.dot(A, x))
</pre>
</div>

<pre class="example">
[1. 3. 2.]
True
[11. 13. 12.]
</pre>
</div>
</li>
</ul>
</li>
</ol>
</div>
<div id="outline-container-org01a601a" class="outline-3">
<h3 id="org01a601a"><span class="section-number-3">5.8.</span> numpy 矩陣間的運算</h3>
<div class="outline-text-3" id="text-5-8">
<ul class="org-ul">
<li>element-wise<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #dcaeea;">ar</span> = np.array([[<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>],[<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">5</span>,<span style="color: #da8548; font-weight: bold;">6</span>],[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>]])
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(ar)
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(ar+ar)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(ar**.<span style="color: #da8548; font-weight: bold;">5</span>)
<span class="linenr">7: </span>
<span class="linenr">8: </span><span style="color: #dcaeea;">ar1</span> = np.array([[<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">2</span>],[<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>],[<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">1</span>]])
<span class="linenr">9: </span><span style="color: #c678dd;">print</span>(ar.dot(ar1))  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#30697;&#38499;dot</span>
</pre>
</div>

<pre class="example" id="org5af3d3e">
[[1 2 3]
 [4 5 6]
 [2 3 4]]
[[ 2  4  6]
 [ 8 10 12]
 [ 4  6  8]]
[[1.         1.41421356 1.73205081]
 [2.         2.23606798 2.44948974]
 [1.41421356 1.73205081 2.        ]]
[[11 11]
 [29 29]
 [17 17]]
</pre>

<ul class="org-ul">
<li>Expressing Conditional Logic as Array Operations<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #dcaeea;">xr</span> = np.array([<span style="color: #da8548; font-weight: bold;">1.1</span>, <span style="color: #da8548; font-weight: bold;">1.2</span>, <span style="color: #da8548; font-weight: bold;">1.3</span>, <span style="color: #da8548; font-weight: bold;">1.4</span>, <span style="color: #da8548; font-weight: bold;">1.5</span>])
<span class="linenr"> 4: </span>  <span style="color: #dcaeea;">yr</span> = np.array([<span style="color: #da8548; font-weight: bold;">2.1</span>, <span style="color: #da8548; font-weight: bold;">2.2</span>, <span style="color: #da8548; font-weight: bold;">2.3</span>, <span style="color: #da8548; font-weight: bold;">2.4</span>, <span style="color: #da8548; font-weight: bold;">2.5</span>])
<span class="linenr"> 5: </span>  <span style="color: #dcaeea;">cond</span> = np.array([<span style="color: #a9a1e1;">True</span>, <span style="color: #a9a1e1;">False</span>, <span style="color: #a9a1e1;">True</span>, <span style="color: #a9a1e1;">True</span>, <span style="color: #a9a1e1;">False</span>])
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #dcaeea;">result</span> = [(x <span style="color: #51afef;">if</span> c <span style="color: #51afef;">else</span> y)
<span class="linenr"> 8: </span>            <span style="color: #51afef;">for</span> x, y, c <span style="color: #51afef;">in</span> <span style="color: #c678dd;">zip</span>(xr, yr, cond)]
<span class="linenr"> 9: </span>  <span style="color: #c678dd;">print</span>(result)
<span class="linenr">10: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #c678dd;">type</span>(result))
<span class="linenr">11: </span>  <span style="color: #c678dd;">print</span>(np.where(cond, xr, yr))
<span class="linenr">12: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #c678dd;">type</span>(result))
<span class="linenr">13: </span>  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#32080;&#26524;&#37117;&#20659;&#22238;list,&#28858;&#20309;&#26377;,&#30340;&#24046;&#30064;</span>
</pre>
</div>

<pre class="example">
[1.1, 2.2, 1.3, 1.4, 2.5]
&lt;class 'list'&gt;
[1.1 2.2 1.3 1.4 2.5]
&lt;class 'list'&gt;
</pre>


<ul class="org-ul">
<li>Braodcasting<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span>  <span style="color: #dcaeea;">x1</span> = np.arange(<span style="color: #da8548; font-weight: bold;">9.0</span>).reshape((<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">3</span>))
<span class="linenr">4: </span>  <span style="color: #c678dd;">print</span>(x1)
<span class="linenr">5: </span>  <span style="color: #dcaeea;">x2</span> = np.arange(<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">4</span>)
<span class="linenr">6: </span>  <span style="color: #c678dd;">print</span>(x2)
<span class="linenr">7: </span>  <span style="color: #c678dd;">print</span>(np.multiply(x1,x2))
</pre>
</div>

<pre class="example">
[[0. 1. 2.]
 [3. 4. 5.]
 [6. 7. 8.]]
[1 2 3]
[[ 0.  2.  6.]
 [ 3.  8. 15.]
 [ 6. 14. 24.]]
</pre>


<ul class="org-ul">
<li>Array sorting<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span>  <span style="color: #dcaeea;">ar</span> = np.array([[<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">5</span>],[<span style="color: #da8548; font-weight: bold;">10</span>,-<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">9</span>],[<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">12</span>]])
<span class="linenr">4: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"origin:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>,ar)
<span class="linenr">5: </span>  ar.sort(axis=<span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr">6: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"axis=0:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>,ar)
<span class="linenr">7: </span>  ar.sort(axis=<span style="color: #da8548; font-weight: bold;">1</span>)
<span class="linenr">8: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"axis=1:</span><span style="color: #a9a1e1;">\n</span><span style="color: #98be65;">"</span>,ar)
</pre>
</div>

<pre class="example" id="orga827527">
origin:
 [[ 3  2  5]
 [10 -1  9]
 [ 4  1 12]]
axis=0:
 [[ 3 -1  5]
 [ 4  1  9]
 [10  2 12]]
axis=1:
 [[-1  3  5]
 [ 1  4  9]
 [ 2 10 12]]
</pre>

<ul class="org-ul">
<li>Array reverse<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span>  <span style="color: #dcaeea;">ar</span> = np.arange(<span style="color: #da8548; font-weight: bold;">5</span>)
<span class="linenr">4: </span>  <span style="color: #c678dd;">print</span>(ar[::-<span style="color: #da8548; font-weight: bold;">1</span>])
</pre>
</div>

<pre class="example">
[4 3 2 1 0]
</pre>
</div>
</div>
<div id="outline-container-org39edc06" class="outline-3">
<h3 id="org39edc06"><span class="section-number-3">5.9.</span> 矩陣間的 convolute 運算</h3>
<div class="outline-text-3" id="text-5-9">
<ul class="org-ul">
<li>numpy.convolve(a, v, mode=&rsquo;full&rsquo;)，這是 numpy 函數中的卷積函數庫<br /></li>
</ul>
<p>
參數：<br />
</p>
<ul class="org-ul">
<li>a:(N,)輸入的一維數組<br /></li>
<li>b:(M,)輸入的第二個一維數組<br /></li>
<li>mode:{&rsquo;full&rsquo;, &rsquo;valid&rsquo;, &rsquo;same&rsquo;}參數可選<br />
<ul class="org-ul">
<li>full　預設值，返回每一個卷積值，長度是 N+M-1,在卷積的邊緣處，信號不重疊，存在邊際效應。<br /></li>
</ul></li>
</ul>
<p>
　- same　返回的數組長度為 max(M, N),邊際效應依舊存在。<br />
　- valid 　返回的數組長度為 max(M,N)-min(M,N)+1,此時返回的是完全重疊的點。邊緣的點無效。<br />
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">-*- coding: utf-8 -*-</span>
<span class="linenr"> 2: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35299;&#27770;&#22294;&#24418;&#20013;&#25991;&#21839;&#38988;</span>
<span class="linenr"> 3: </span>  <span style="color: #51afef;">from</span> pylab <span style="color: #51afef;">import</span> *
<span class="linenr"> 4: </span>  mpl.<span style="color: #dcaeea;">rcParams</span>[<span style="color: #98be65;">'font.sans-serif'</span>] = [<span style="color: #98be65;">'SimHei'</span>]
<span class="linenr"> 5: </span>  plt.<span style="color: #dcaeea;">rcParams</span>[<span style="color: #98be65;">'axes.unicode_minus'</span>]=<span style="color: #a9a1e1;">False</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 8: </span>  <span style="color: #51afef;">import</span> matplotlib.pylab <span style="color: #51afef;">as</span> plt
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #dcaeea;">a</span> = np.array([<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>])
<span class="linenr">11: </span>  <span style="color: #dcaeea;">b</span> = np.array([<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">0.5</span>])
<span class="linenr">12: </span>  <span style="color: #dcaeea;">y</span> = np.arange(<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">3</span>)
<span class="linenr">13: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"a: "</span>,a)
<span class="linenr">14: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"b: "</span>,b)
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">1.</span>
<span class="linenr">17: </span>  <span style="color: #c678dd;">print</span>(a*b[<span style="color: #da8548; font-weight: bold;">0</span>])
<span class="linenr">18: </span>  <span style="color: #c678dd;">print</span>(a*b[<span style="color: #da8548; font-weight: bold;">1</span>])
<span class="linenr">19: </span>  <span style="color: #c678dd;">print</span>(a*b[<span style="color: #da8548; font-weight: bold;">2</span>])
<span class="linenr">20: </span>  plt.clf()
<span class="linenr">21: </span>  plt.xlim((-<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">22: </span>  plt.ylim((<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">23: </span>  plt.bar(y, a*b[<span style="color: #da8548; font-weight: bold;">0</span>], .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'blue'</span>)
<span class="linenr">24: </span>  plt.xlabel(<span style="color: #98be65;">'a[n]&#20056;&#20197;b[0]&#24460;&#24179;&#31227;&#33267;&#20301;&#32622;0'</span>);
<span class="linenr">25: </span>  plt.savefig(<span style="color: #98be65;">"anb0.png"</span>)
<span class="linenr">26: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">2.</span>
<span class="linenr">27: </span>  plt.clf()
<span class="linenr">28: </span>  plt.xlim((-<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">29: </span>  plt.ylim((<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">30: </span>  plt.bar(y+<span style="color: #da8548; font-weight: bold;">1</span>, a*b[<span style="color: #da8548; font-weight: bold;">1</span>], .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'green'</span>)
<span class="linenr">31: </span>  plt.xlabel(<span style="color: #98be65;">'a[n]&#20056;&#20197;b[1]&#24460;&#24179;&#31227;&#33267;&#20301;&#32622;1'</span>);
<span class="linenr">32: </span>  plt.savefig(<span style="color: #98be65;">"anb1.png"</span>)
<span class="linenr">33: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">3.</span>
<span class="linenr">34: </span>  plt.clf()
<span class="linenr">35: </span>  plt.xlim((-<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">36: </span>  plt.ylim((<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">37: </span>  plt.bar(y+<span style="color: #da8548; font-weight: bold;">2</span>, a*b[<span style="color: #da8548; font-weight: bold;">2</span>], .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'orange'</span>)
<span class="linenr">38: </span>  plt.xlabel(<span style="color: #98be65;">'a[n]&#20056;&#20197;b[2]&#24460;&#24179;&#31227;&#33267;&#20301;&#32622;2'</span>);
<span class="linenr">39: </span>  plt.savefig(<span style="color: #98be65;">"anb2.png"</span>)
<span class="linenr">40: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">Stack</span>
<span class="linenr">41: </span>  <span style="color: #dcaeea;">anb0</span> = [<span style="color: #da8548; font-weight: bold;">0.1</span>, <span style="color: #da8548; font-weight: bold;">0.2</span>, <span style="color: #da8548; font-weight: bold;">0.3</span>, <span style="color: #da8548; font-weight: bold;">0</span>,   <span style="color: #da8548; font-weight: bold;">0</span>]
<span class="linenr">42: </span>  <span style="color: #dcaeea;">anb1</span> = [  <span style="color: #da8548; font-weight: bold;">0</span>,   <span style="color: #da8548; font-weight: bold;">1</span>,   <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>,   <span style="color: #da8548; font-weight: bold;">0</span>]
<span class="linenr">43: </span>  <span style="color: #dcaeea;">anb2</span> = [  <span style="color: #da8548; font-weight: bold;">0</span>,   <span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">0.5</span>, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1.5</span>]
<span class="linenr">44: </span>  plt.clf()
<span class="linenr">45: </span>  plt.xlim((-<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">46: </span>  plt.ylim((<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">5</span>))
<span class="linenr">47: </span>  plt.bar(np.arange(<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">5</span>), anb0, .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'blue'</span>)
<span class="linenr">48: </span>  plt.bar(np.arange(<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">5</span>), anb1, .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'green'</span>, bottom=anb0)
<span class="linenr">49: </span>  plt.bar(np.arange(<span style="color: #da8548; font-weight: bold;">0</span>,<span style="color: #da8548; font-weight: bold;">5</span>), anb2, .<span style="color: #da8548; font-weight: bold;">5</span>, color=<span style="color: #98be65;">'orange'</span>, bottom=np.add(anb0,anb1))
<span class="linenr">50: </span>  plt.xlabel(<span style="color: #98be65;">'&#23559;&#19977;&#22294;&#30090;&#21152;&#36215;&#20358;'</span>);
<span class="linenr">51: </span>
<span class="linenr">52: </span>  plt.savefig(<span style="color: #98be65;">"abStack.png"</span>)
<span class="linenr">53: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"Full:"</span>,np.convolve(a, b))
<span class="linenr">54: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"same:"</span>,np.convolve(a, b, <span style="color: #98be65;">'same'</span>))
<span class="linenr">55: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"valid:"</span>,np.convolve(a, b, <span style="color: #98be65;">'valid'</span>))
<span class="linenr">56: </span>
</pre>
</div>

<pre class="example">
a:  [1 2 3]
b:  [0.1 1.  0.5]
[0.1 0.2 0.3]
[1. 2. 3.]
[0.5 1.  1.5]
Full: [0.1 1.2 2.8 4.  1.5]
same: [1.2 2.8 4. ]
valid: [2.8]
</pre>


<p>
以矩陣 a = np.array([1, 2, 3]), b = np.array([0.1, 1, 0.5])為例，numpy.convolve 的計算過程如下：<br />
</p>
<ol class="org-ol">
<li>求出 a*b[0]，平移至位置 0，如圖[[fig:convolve-1]<br /></li>
</ol>

<div id="orgd6ec459" class="figure">
<p><img src="images/anb0.png" alt="anb0.png" /><br />
</p>
<p><span class="figure-number">Figure 5: </span>convolve 的計算過程-1</p>
</div>
<ol class="org-ol">
<li>求出 a*b[1]，平移至位置 1，如圖<a href="#org581dbf7">6</a><br /></li>
</ol>

<div id="org581dbf7" class="figure">
<p><img src="images/anb1.png" alt="anb1.png" /><br />
</p>
<p><span class="figure-number">Figure 6: </span>convolve 的計算過程-2</p>
</div>
<ol class="org-ol">
<li>求出 a*b[2]，平移至位置 2，如圖<a href="#org41adda5">7</a><br /></li>
</ol>

<div id="org41adda5" class="figure">
<p><img src="images/anb2.png" alt="anb2.png" /><br />
</p>
<p><span class="figure-number">Figure 7: </span>convolve 的計算過程-1</p>
</div>
<ol class="org-ol">
<li>將圖<a href="#orgd6ec459">5</a>，圖<a href="#org581dbf7">6</a>，圖<a href="#org41adda5">7</a>疊加起來<br /></li>
</ol>

<div id="orgd8def03" class="figure">
<p><img src="images/abStack.png" alt="abStack.png" /><br />
</p>
<p><span class="figure-number">Figure 8: </span>convolve 的計算過程-1</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org85600ed" class="outline-2">
<h2 id="org85600ed"><span class="section-number-2">6.</span> Numpy 檔案輸出輸入</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org49ad387" class="outline-3">
<h3 id="org49ad387"><span class="section-number-3">6.1.</span> Google Colab</h3>
<div class="outline-text-3" id="text-6-1">
</div>
<ol class="org-ol">
<li><a id="orge03c191"></a>先將資料檔儲存到Google Drive中<br />
<div class="outline-text-4" id="text-6-1-1">
<p>
將要讀取的資料檔(txt, csv)上傳到Google雲端硬碟<br />
</p>
</div>
</li>
<li><a id="org84d9aa9"></a>要求授權<br />
<div class="outline-text-4" id="text-6-1-2">
<p>
在Colab新增一個cell，執行下列程式<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">from</span> google.colab <span style="color: #51afef;">import</span> drive
drive.mount(<span style="color: #98be65;">'/content/drive'</span>)
</pre>
</div>
<p>
選擇&ldquo;Connected to Google Drive&rdquo;<br />
</p>
</div>
</li>
<li><a id="org1d75607"></a>測試<br />
<div class="outline-text-4" id="text-6-1-3">
<ol class="org-ol">
<li>要求授權<br /></li>
<li>先<a href="images/scores.csv">點這裡下載範例資料</a><br /></li>
<li>上傳資料檔<br /></li>
<li><p>
執行以下程式<br />
</p>
<div class="org-src-container">
<pre class="src src-python">!ls drive/MyDrive/
!cat drive/MyDrive/scores.csv
</pre>
</div></li>
</ol>
<p>
如果能看到資料的內容，就表示成功了，接下來就能用NumPy來讀取、分析這個資料檔<br />
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgcc60766" class="outline-3">
<h3 id="orgcc60766"><span class="section-number-3">6.2.</span> 用NumPy來讀資料檔</h3>
<div class="outline-text-3" id="text-6-2">
</div>
<ol class="org-ol">
<li><a id="org8ea7642"></a>load<br />
<div class="outline-text-4" id="text-6-2-1">
<p>
在Numpy內會使用.loadtxt或特定的np.genfromtxt來讀取文字檔<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">myAry</span> = np.loadtxt(<span style="color: #98be65;">'drive/MyDrive/scores.csv'</span>, delimiter=<span style="color: #98be65;">','</span>)
<span style="color: #c678dd;">print</span>(myAry)
</pre>
</div>

<pre class="example" id="orgd1f1fbc">
[[109.    87.   100.    86.    50.  ]
 [ 86.    66.    68.97  33.2   55.  ]
 [ 82.    51.    72.87  57.    70.  ]
 [ 90.    81.   100.   100.   100.  ]
 [ 80.    45.    39.66   0.     0.  ]
 [ 83.    36.    74.14  20.    10.  ]
 [ 84.    51.    67.24  25.     0.  ]
 [ 75.    72.    89.66  43.    40.  ]
 [ 76.    63.    96.55  40.     0.  ]
 [ 80.    75.   100.    32.8   50.  ]
 [ 85.    96.    89.48  83.7   30.  ]]
</pre>
</div>
</li>
<li><a id="org7562932"></a>save<br />
<div class="outline-text-4" id="text-6-2-2">
<p>
將處理完的陣列回存成csv檔：<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">myAry</span> = np.loadtxt(<span style="color: #98be65;">'drive/MyDrive/scores.csv'</span>, delimiter=<span style="color: #98be65;">','</span>)
<span style="color: #c678dd;">print</span>(myAry)
np.savetxt(<span style="color: #98be65;">'drive/MyDrive/newScores.csv'</span>, myAry)
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org6c1be94" class="outline-3">
<h3 id="org6c1be94"><span class="section-number-3">6.3.</span> 不同格式</h3>
<div class="outline-text-3" id="text-6-3">
<p>
NumPy提供了多種存取陣列內容的檔案操作函式。儲存陣列資料的檔案可以是二進位制格式或者文字格式。二進位制格式的檔案又分為NumPy專用的格式化二進位制型別和無格式型別。<sup><a id="fnr.6" class="footref" href="#fn.6" role="doc-backlink">6</a></sup><sup>, </sup><sup><a id="fnr.7" class="footref" href="#fn.7" role="doc-backlink">7</a></sup><br />
</p>
</div>
</div>
<div id="outline-container-org303a676" class="outline-3">
<h3 id="org303a676"><span class="section-number-3">6.4.</span> Bineary Format</h3>
<div class="outline-text-3" id="text-6-4">
</div>
<ol class="org-ol">
<li><a id="orgd0e187d"></a>save(), load()<br />
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">a</span> = np.arange(<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">12</span>).reshape(<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>)
<span style="color: #c678dd;">print</span>(a)
np.save(<span style="color: #98be65;">'a'</span>, a)
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#20837;</span>
<span style="color: #dcaeea;">b</span> = np.load(<span style="color: #98be65;">'a.npy'</span>)
<span style="color: #c678dd;">print</span>(b)
</pre>
</div>

<pre class="example">
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</pre>
</div>
</li>
<li><a id="org1727b9a"></a>savez()<br />
<div class="outline-text-4" id="text-6-4-2">
<p>
我們可以儲存多個陣列在一個zip的檔案中，使用np.savez就可以了！<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #dcaeea;">aAry</span> = [<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">5</span>,<span style="color: #da8548; font-weight: bold;">6</span>]
<span style="color: #dcaeea;">bAry</span> = [<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">8</span>,<span style="color: #da8548; font-weight: bold;">9</span>,<span style="color: #da8548; font-weight: bold;">10</span>,<span style="color: #da8548; font-weight: bold;">11</span>,<span style="color: #da8548; font-weight: bold;">12</span>]
<span style="color: #5B6268;">#</span><span style="color: #5B6268;">save</span>
np.savez(<span style="color: #98be65;">'ab.npz'</span>, a = aAry, b = bAry)
<span style="color: #5B6268;">#</span><span style="color: #5B6268;">load</span>
<span style="color: #dcaeea;">myZip</span> = np.load(<span style="color: #98be65;">'ab.npz'</span>)
<span style="color: #c678dd;">print</span>(myZip[<span style="color: #98be65;">'a'</span>])
<span style="color: #c678dd;">print</span>(myZip[<span style="color: #98be65;">'b'</span>])
</pre>
</div>

<pre class="example">
[1 2 3 4 5 6]
[ 7  8  9 10 11 12]
</pre>
</div>
</li>
</ol>
</div>
<div id="outline-container-org4ca619e" class="outline-3">
<h3 id="org4ca619e"><span class="section-number-3">6.5.</span> 讀取混合格式的文字資料</h3>
<div class="outline-text-3" id="text-6-5">
<p>
如果資料中某些欄位的資料格式是字串 (string)，處理起來相當麻煩，改用 numpy.genfromtxt 會比較簡單。<sup><a id="fnr.8" class="footref" href="#fn.8" role="doc-backlink">8</a></sup><br />
<a href="https://numpy.org/doc/stable/user/basics.io.genfromtxt.html">Importing data with genfromtxt</a><br />
目標文字檔(csv)如下：<br />
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span><span style="color: #ECBE7B;">cat</span> cs-scores2.csv
</pre>
</div>

<pre class="example" id="org0a630ac">
學號,平時成績,打字成績,作業成績,期中考,期末考
201811101,109.00,87,100.00,86.00,50.00
201811102,86.00,66,68.97,33.20,55.00
201811103,82.00,51,72.87,57.00,70.00
201811104,90.00,81,100.00,100.00,100.00
201811105,80.00,45,39.66,0.00,0.00
201811106,83.00,36,74.14,20.00,10.00
201811107,84.00,51,67.24,25.00,0.00
201811108,75.00,72,89.66,43.00,40.00
201811109,76.00,63,96.55,40.00,0.00
201811110,80.00,75,100.00,32.80,50.00
201811111,85.00,96,89.48,83.70,30.00
</pre>
<p>
Pyton 3在讀取文字時，dtype應設為U(Unicode)，否則會在讀到的字首多出b<sup><a id="fnr.9" class="footref" href="#fn.9" role="doc-backlink">9</a></sup><br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">Python3 is working with Unicode.</span>
<span style="color: #5B6268;"># </span><span style="color: #5B6268;">I had the same issue when using loadtxt with dtype='S'. But using dtype='U as Unicode string in both numpy.loadtxt or numpy.genfromtxt, it will give output without b</span>
<span style="color: #dcaeea;">data</span> = np.genfromtxt(<span style="color: #98be65;">"cs-scores2.csv"</span>, delimiter=<span style="color: #98be65;">','</span>,
                     dtype=[(<span style="color: #98be65;">'id'</span>, <span style="color: #98be65;">'U10'</span>), (<span style="color: #98be65;">'cls'</span>, <span style="color: #c678dd;">float</span>),
                            (<span style="color: #98be65;">'typing'</span>, <span style="color: #c678dd;">float</span>), (<span style="color: #98be65;">'hw'</span>, <span style="color: #c678dd;">float</span>),
                            (<span style="color: #98be65;">'mid'</span>, <span style="color: #c678dd;">float</span>), (<span style="color: #98be65;">'finl'</span>, <span style="color: #c678dd;">float</span>)],
                     skip_header=<span style="color: #da8548; font-weight: bold;">1</span>, encoding=<span style="color: #98be65;">'UTF-8'</span>)
<span style="color: #c678dd;">print</span>(data)
</pre>
</div>

<pre class="example" id="org7ec3970">
[('201811101', 109., 87., 100.  ,  86. ,  50.)
 ('201811102',  86., 66.,  68.97,  33.2,  55.)
 ('201811103',  82., 51.,  72.87,  57. ,  70.)
 ('201811104',  90., 81., 100.  , 100. , 100.)
 ('201811105',  80., 45.,  39.66,   0. ,   0.)
 ('201811106',  83., 36.,  74.14,  20. ,  10.)
 ('201811107',  84., 51.,  67.24,  25. ,   0.)
 ('201811108',  75., 72.,  89.66,  43. ,  40.)
 ('201811109',  76., 63.,  96.55,  40. ,   0.)
 ('201811110',  80., 75., 100.  ,  32.8,  50.)
 ('201811111',  85., 96.,  89.48,  83.7,  30.)]
</pre>
</div>
</div>
<div id="outline-container-org84b3af8" class="outline-3">
<h3 id="org84b3af8"><span class="section-number-3">6.6.</span> 讀取一個欄位資料</h3>
<div class="outline-text-3" id="text-6-6">
<p>
在 numpy.genfromtxt() 中, 使用 usecols 參數指定取出的欄位編號, 即可取出特定欄位<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np

<span style="color: #dcaeea;">classScore</span> = np.genfromtxt(<span style="color: #98be65;">"cs-scores2.csv"</span>, delimiter=<span style="color: #98be65;">','</span>, skip_header=<span style="color: #da8548; font-weight: bold;">1</span>,
                     dtype=<span style="color: #c678dd;">float</span>, usecols=(<span style="color: #da8548; font-weight: bold;">2</span>,), unpack=<span style="color: #a9a1e1;">True</span>, encoding=<span style="color: #98be65;">'UTF-8'</span>)
<span style="color: #c678dd;">print</span>(classScore)
</pre>
</div>

<pre class="example">
[87. 66. 51. 81. 45. 36. 51. 72. 63. 75. 96.]
</pre>

<p>
*<br />
</p>
</div>
</div>
<div id="outline-container-org0f9c68b" class="outline-3">
<h3 id="org0f9c68b"><span class="section-number-3">6.7.</span> Binary Format  <sup><a id="fnr.10" class="footref" href="#fn.10" role="doc-backlink">10</a></sup></h3>
<div class="outline-text-3" id="text-6-7">
<ul class="org-ul">
<li>save() / load()<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #51afef;">import</span> subprocess
<span class="linenr">3: </span>
<span class="linenr">4: </span><span style="color: #dcaeea;">x</span> = np.arange(<span style="color: #da8548; font-weight: bold;">20</span>)
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#21407;&#22987;&#20839;&#23481;:"</span>, x)
<span class="linenr">6: </span>np.save(<span style="color: #98be65;">"test_array.npy"</span>, x) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">.npy</span>
<span class="linenr">7: </span><span style="color: #dcaeea;">y</span> = np.load(<span style="color: #98be65;">"test_array.npy"</span>)
<span class="linenr">8: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#35712;&#22238;&#20358;:"</span>, y)
</pre>
</div>

<pre class="example">
原始內容: [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]
讀回來: [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]
</pre>


<ul class="org-ul">
<li>savez(): 儲存多個陣列在一個 zip 的檔案中<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">aData</span> = [<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">5</span>,<span style="color: #da8548; font-weight: bold;">6</span>]
<span class="linenr">3: </span><span style="color: #dcaeea;">bData</span> = [<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">8</span>,<span style="color: #da8548; font-weight: bold;">9</span>,<span style="color: #da8548; font-weight: bold;">10</span>,<span style="color: #da8548; font-weight: bold;">11</span>,<span style="color: #da8548; font-weight: bold;">12</span>]
<span class="linenr">4: </span>np.savez(<span style="color: #98be65;">'my_archive.npz'</span>, a=aData, b=bData)
<span class="linenr">5: </span><span style="color: #dcaeea;">myArch</span> = np.load(<span style="color: #98be65;">'my_archive.npz'</span>)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(myArch[<span style="color: #98be65;">'a'</span>])
</pre>
</div>

<pre class="example">
[1 2 3 4 5 6]
</pre>
</div>
</div>
<div id="outline-container-org3e90851" class="outline-3">
<h3 id="org3e90851"><span class="section-number-3">6.8.</span> Text Files</h3>
<div class="outline-text-3" id="text-6-8">
<ul class="org-ul">
<li>savetxt<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span>
<span class="linenr">3: </span>  <span style="color: #dcaeea;">ac</span> = np.array([np.arange(<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">6</span>),np.arange(<span style="color: #da8548; font-weight: bold;">10</span>,<span style="color: #da8548; font-weight: bold;">15</span>)])
<span class="linenr">4: </span>  np.savetxt(<span style="color: #98be65;">'txtfile.txt'</span>, ac)
<span class="linenr">5: </span>
<span class="linenr">6: </span>  <span style="color: #dcaeea;">myArr</span> = np.loadtxt(<span style="color: #98be65;">'txtfile.txt'</span>, delimiter=<span style="color: #98be65;">' '</span>)
<span class="linenr">7: </span>  <span style="color: #c678dd;">print</span>(myArr)
</pre>
</div>

<pre class="example">
[[ 1.  2.  3.  4.  5.]
 [10. 11. 12. 13. 14.]]
</pre>


<ul class="org-ul">
<li>savez(): 儲存多個陣列在一個 zip 的檔案中<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr">2: </span><span style="color: #dcaeea;">aData</span> = [<span style="color: #da8548; font-weight: bold;">1</span>,<span style="color: #da8548; font-weight: bold;">2</span>,<span style="color: #da8548; font-weight: bold;">3</span>,<span style="color: #da8548; font-weight: bold;">4</span>,<span style="color: #da8548; font-weight: bold;">5</span>,<span style="color: #da8548; font-weight: bold;">6</span>]
<span class="linenr">3: </span><span style="color: #dcaeea;">bData</span> = [<span style="color: #da8548; font-weight: bold;">7</span>,<span style="color: #da8548; font-weight: bold;">8</span>,<span style="color: #da8548; font-weight: bold;">9</span>,<span style="color: #da8548; font-weight: bold;">10</span>,<span style="color: #da8548; font-weight: bold;">11</span>,<span style="color: #da8548; font-weight: bold;">12</span>]
<span class="linenr">4: </span>np.savez(<span style="color: #98be65;">'my_archive.npz'</span>, a=aData, b=bData)
<span class="linenr">5: </span><span style="color: #dcaeea;">myArch</span> = np.load(<span style="color: #98be65;">'my_archive.npz'</span>)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(myArch[<span style="color: #98be65;">'a'</span>])
</pre>
</div>

<pre class="example">
[1 2 3 4 5 6]
</pre>
</div>
</div>
</div>
<div id="outline-container-org55d559a" class="outline-2">
<h2 id="org55d559a"><span class="section-number-2">7.</span> Data Visualization</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org1eabce7" class="outline-3">
<h3 id="org1eabce7"><span class="section-number-3">7.1.</span> pylab</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 2: </span>  <span style="color: #51afef;">import</span> pylab <span style="color: #51afef;">as</span> pl
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>  <span style="color: #dcaeea;">x</span> = np.arange(<span style="color: #da8548; font-weight: bold;">0.0</span>, <span style="color: #da8548; font-weight: bold;">2.0</span>*np.pi, <span style="color: #da8548; font-weight: bold;">0.01</span>)
<span class="linenr"> 5: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"x:"</span>, x[:<span style="color: #da8548; font-weight: bold;">5</span>])
<span class="linenr"> 6: </span>  <span style="color: #dcaeea;">y</span> = np.sin(x)
<span class="linenr"> 7: </span>  <span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"y:"</span>, y[:<span style="color: #da8548; font-weight: bold;">5</span>])
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  pl.plot(x,y)
<span class="linenr">10: </span>  pl.xlabel(<span style="color: #98be65;">'x'</span>)
<span class="linenr">11: </span>  pl.ylabel(<span style="color: #98be65;">'y'</span>)
<span class="linenr">12: </span>  pl.title(<span style="color: #98be65;">'sin'</span>)
<span class="linenr">13: </span>  pl.savefig(<span style="color: #98be65;">"sinPlot.png"</span>)
</pre>
</div>

<pre class="example">
x: [0.   0.01 0.02 0.03 0.04]
y: [0.         0.00999983 0.01999867 0.0299955  0.03998933]
</pre>


<div id="org91b7976" class="figure">
<p><img src="images/sinPlot.png" alt="sinPlot.png" /><br />
</p>
<p><span class="figure-number">Figure 9: </span>sinPlot</p>
</div>
</div>
</div>
<div id="outline-container-org439289b" class="outline-3">
<h3 id="org439289b"><span class="section-number-3">7.2.</span> Bokeh</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span class="linenr"> 2: </span>  <span style="color: #51afef;">from</span> bokeh.plotting <span style="color: #51afef;">import</span> figure, show
<span class="linenr"> 3: </span>  <span style="color: #51afef;">from</span> bokeh.io <span style="color: #51afef;">import</span> output_notebook, export_png, output_file, save
<span class="linenr"> 4: </span>  <span style="color: #51afef;">import</span> matplotlib.pylab <span style="color: #51afef;">as</span> plt
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  <span style="color: #dcaeea;">N</span> = <span style="color: #da8548; font-weight: bold;">4000</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #dcaeea;">x</span> = np.random.random(size=N)*<span style="color: #da8548; font-weight: bold;">100</span>
<span class="linenr"> 9: </span>  <span style="color: #dcaeea;">y</span> = np.random.random(size=N)*<span style="color: #da8548; font-weight: bold;">100</span>
<span class="linenr">10: </span>  <span style="color: #dcaeea;">radii</span> = np.random.random(size=N)*<span style="color: #da8548; font-weight: bold;">1.5</span>
<span class="linenr">11: </span>  <span style="color: #dcaeea;">colors</span> = [<span style="color: #98be65;">"#%02x%02x%02x"</span> % (r, g, <span style="color: #da8548; font-weight: bold;">150</span>) <span style="color: #51afef;">for</span> r, g <span style="color: #51afef;">in</span> <span style="color: #c678dd;">zip</span>(np.floor(<span style="color: #da8548; font-weight: bold;">50</span>+<span style="color: #da8548; font-weight: bold;">2</span>*x).astype(<span style="color: #c678dd;">int</span>), np.floor(<span style="color: #da8548; font-weight: bold;">30</span>+<span style="color: #da8548; font-weight: bold;">2</span>*y).astype(<span style="color: #c678dd;">int</span>))]
<span class="linenr">12: </span>
<span class="linenr">13: </span>  output_notebook()
<span class="linenr">14: </span>  <span style="color: #dcaeea;">p</span> = figure(title=<span style="color: #98be65;">"Basic Title"</span>, plot_width=<span style="color: #da8548; font-weight: bold;">300</span>, plot_height=<span style="color: #da8548; font-weight: bold;">300</span>)
<span class="linenr">15: </span>  p.circle(x, y, radius=radii, fill_color=colors, fill_alpha=<span style="color: #da8548; font-weight: bold;">0.6</span>, line_color=<span style="color: #a9a1e1;">None</span>)
<span class="linenr">16: </span>  output_file(<span style="color: #98be65;">'bokehPlot.html'</span>, mode=<span style="color: #98be65;">'inline'</span>)
<span class="linenr">17: </span>  save(p)
</pre>
</div>

<p>
<a href="bokehPlot.htm">bokehPlot.htm</a><br />
</p>
</div>
</div>
<div id="outline-container-org39949d0" class="outline-3">
<h3 id="org39949d0"><span class="section-number-3">7.3.</span> seaborn</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #51afef;">import</span> seaborn <span style="color: #51afef;">as</span> sns
<span class="linenr"> 2: </span>  sns.<span style="color: #c678dd;">set</span>(style=<span style="color: #98be65;">"ticks"</span>)
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">Load the example dataset for Anscombe's quartet</span>
<span class="linenr"> 5: </span>  <span style="color: #dcaeea;">df</span> = sns.load_dataset(<span style="color: #98be65;">"anscombe"</span>)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #5B6268;"># </span><span style="color: #5B6268;">Show the results of a linear regression within each dataset</span>
<span class="linenr"> 8: </span>  sns.lmplot(x=<span style="color: #98be65;">"x"</span>, y=<span style="color: #98be65;">"y"</span>, col=<span style="color: #98be65;">"dataset"</span>, hue=<span style="color: #98be65;">"dataset"</span>, data=df, col_wrap=<span style="color: #da8548; font-weight: bold;">2</span>, ci=<span style="color: #a9a1e1;">None</span>, palette=<span style="color: #98be65;">"muted"</span>, height=<span style="color: #da8548; font-weight: bold;">4</span>, scatter_kws={<span style="color: #98be65;">'s'</span> :<span style="color: #da8548; font-weight: bold;">50</span>,<span style="color: #98be65;">'alpha'</span>:<span style="color: #da8548; font-weight: bold;">1</span>})
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #51afef;">import</span> matplotlib.pyplot <span style="color: #51afef;">as</span> plt
<span class="linenr">11: </span>  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">sns.sns_plot.savefig("seabornPlot.png")</span>
<span class="linenr">12: </span>  plt.savefig(<span style="color: #98be65;">"seabornPlot.png"</span>)
</pre>
</div>


<div id="org8c5b999" class="figure">
<p><img src="images/seabornPlot.png" alt="seabornPlot.png" /><br />
</p>
<p><span class="figure-number">Figure 10: </span>seabornPlot</p>
</div>
</div>
</div>
<div id="outline-container-org0169da4" class="outline-3">
<h3 id="org0169da4"><span class="section-number-3">7.4.</span> Altair</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span>  <span style="color: #51afef;">import</span> altair <span style="color: #51afef;">as</span> alt
<span class="linenr"> 2: </span>  <span style="color: #51afef;">from</span> vega_datasets <span style="color: #51afef;">import</span> data
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>  <span style="color: #dcaeea;">cars</span> = data.cars()
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  <span style="color: #dcaeea;">chart</span> = alt.Chart(cars).mark_point().encode( x=<span style="color: #98be65;">'Horsepower'</span>, y=<span style="color: #98be65;">'Miles_per_Gallon'</span>, color=<span style="color: #98be65;">'Origin'</span>).interactive()
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">import pylab as pl</span>
<span class="linenr"> 9: </span>  <span style="color: #5B6268;">#</span><span style="color: #5B6268;">pl.savefig("altairPlot.png")</span>
<span class="linenr">10: </span>  chart.save(<span style="color: #98be65;">'altairPlot.png'</span>, webdriver=<span style="color: #98be65;">'firefox'</span>)
<span class="linenr">11: </span>  chart.savechart(<span style="color: #98be65;">'altairPlot.html'</span>)
</pre>
</div>


<div id="org71b8df1" class="figure">
<p><img src="images/altairPlot.png" alt="altairPlot.png" /><br />
</p>
<p><span class="figure-number">Figure 11: </span>altairPlot</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://blog.techbridge.cc/2017/07/28/data-science-101-numpy-tutorial/">從零開始學資料科學：Numpy 基礎入門</a><sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara"></p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://zh.wikipedia.org/wiki/NumPy">NumPy</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://blog.techbridge.cc/2017/07/28/data-science-101-numpy-tutorial/">從零開始學資料科學：Numpy 基礎入門</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.brilliantcode.net/1093/numpy-1-14-tutorial-04-indexing-slicing-iterating-from-function/">NumPy 1.14 教學:索引(Indexing)、切片(Slicing)、迭代(Iterating)、From Function</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://ithelp.ithome.com.tw/articles/10196167">[Day18]Numpy檔案輸入與輸出！ </a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.7" class="footnum" href="#fnr.7" role="doc-backlink">7</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/570647/">NumPy 檔案存取 tofile，fromfile， load，save</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.8" class="footnum" href="#fnr.8" role="doc-backlink">8</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://hackmd.io/@yizhewang/HJjG8ha5r">使用 numpy.genfromtxt 讀取混合格式的資料</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.9" class="footnum" href="#fnr.9" role="doc-backlink">9</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://stackoverflow.com/questions/33655641/b-character-added-when-using-numpy-loadtxt">&rsquo;b&rsquo; character added when using numpy loadtxt</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.10" class="footnum" href="#fnr.10" role="doc-backlink">10</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://ithelp.ithome.com.tw/articles/10196167">Day18-Numpy檔案輸入與輸出!</a><br />
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Yung-Chin Yen</p>
<p class="date">Created: 2023-11-30 Thu 19:24</p>
</div>
</body>
</html>